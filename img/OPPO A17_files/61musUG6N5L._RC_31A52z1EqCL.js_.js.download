(function(u){var q=window.AmazonUIPageJS||window.P,ea=q._namespace||q.attributeErrors,e=ea?ea("DetailPageImageBlockAssets",""):q;e.guardFatal?e.guardFatal(u)(e,window):e.execute(function(){u(e,window)})})(function(u,q,ea){u.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(e,a){try{var f=e.$,k=f("#featurebullets_feature_div"),l=f("#productOverview_feature_div");if(k&&0<k.length&&(a.postCountMetric("FeatureBulletsRendered.GV"),l&&0<l.length)){a.postCountMetric("FeatureBulletsRenderedWithPO.GV");
var d=f("#featurebullets_feature_div .a-expander-container");d&&0<d.length&&"feature-bullets-expander"===d.data("aExpanderName")&&(a.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),e.on("a:expander:feature-bullets-expander:toggle:expand",function(f){a.postCountMetric("FeatureBulletsInteraction.Expanded")}),e.on("a:expander:feature-bullets-expander:toggle:collapse",function(f){a.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(m){u.log("Feature bullets metric logging failed with error: ( "+
m+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";u.register("postMetric",function(){return{postCountMetric:function(e){if("undefined"!==typeof e){var a=q.ue;if(a){var f=a.count(e)||0;a.count(e,f+1)}}},postTimeMetric:function(e,a){if("undefined"!==typeof e&&"undefined"!==typeof a){var f=q.ue;f&&f.count(e,a)}},emitNexusMetric:function(e){q.ue&&ue.event&&ue.event(e,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(e,a,f,k,l,d,m,h){return{eventSource:"IBCarousel",
placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:e,intPayload:a,videoAsin:f,videoAsinList:"",groupType:k,pageUrl:l,pageAsin:d,weblabIds:m}}}});"use strict";u.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});u.register("postEarlyMetric",function(){return null});"use strict";u.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(e,a,f,k){e=e.extend(!0,{},f,k);var l=new a(e);u.register("ImageBlockAPI",
function(){return l.api});return l});"use strict";u.when("A","jQuery").execute(function(e,a){e.on("a:image:load:landingImage",function(){q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(a("#landingImage"))});"use strict";u.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function a(a){a&&(u.load.js(a),q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",q.parseInt(performance.now())))}
function f(a){a&&u.load.css(a)}var k=e.airyConfig;k===ea?u.when("ImageBlockBTF").execute(function(e){k=e.airyConfig;a(k.jsUrl);f(k.cssUrl)}):(a(k.jsUrl),f(k.cssUrl))});"use strict";u.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(e,a,f,k,l){var d={};return function(m){var h=this;h.dispatch=function(a,f){var h=d[a];k.isDefined(h)&&e.each(h,function(a,d){d.call(q,f)})};h.register=function(a,f){k.isDefined(d[a])||(d[a]=[]);
"function"===typeof f&&d[a].push(f)};h.model=new a(m,h);h.view=new f(m,h,h.model);h.api=new l(m,h,h.model);h.init=function(){h.model.init();h.view.init()};h.init()}});"use strict";u.when("A","imageBlockUtils").register("ImageBlockModel",function(e,a){function f(f,d,e,h,k,m){a.isDefined(f)&&(n.type=f);a.isDefined(d)&&(n.index=d);a.isDefined(e)&&(n.thumbnailIndex=e);a.isDefined(h)&&(n.variant=h);a.isDefined(k)&&(n.color=k);n.shoppableScene=m||null}function k(a){f("image",0,0,"MAIN",a||h.landingAsinColor||
h.defaultColor,null)}function l(a){a=a.data;q=e.copy(n);f(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function d(a){l(a);a=e.copy(a);a.data=e.copy(n);p.dispatch("updateView",a)}function m(){q=e.copy(n);k(n.color)}var h,p,n={},q={},G,F;return function(a,f){p=f;h=a;p.register("updateSelection",d);p.register("updateModel",l);p.register("resetModel",m);this.init=function(){k()};this.getCurrentItem=function(){return e.copy(n)};this.getPreviousItem=function(){return e.copy(q)};this.setCurrentEvent=
function(a){G=a};this.getCurrentEvent=function(){return G};this.setImmersiveViewModalInstance=function(a){F=a};this.getImmersiveViewModalInstance=function(){return F};this.updateTitle=function(a){h.title=a}}});"use strict";u.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(e,a){function f(a,f,k,h,p){function n(a){"click"===a.type&&h.postCountMetric("thumbClick");"click"===a.type&&c.overrideAltImageClickAction?x.dispatch("thumbActionClick",a):x.dispatch("updateSelection",
a)}function U(a){c.useClickZoom||x.dispatch("imageClick",a)}function G(a){c.useClickZoom||x.dispatch("imageHover",a)}function F(a){x.dispatch("button360Click",a)}function y(c){!k.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(z.update(c),"swatchHover"!==c.type&&D.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&h.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):(z.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,
components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",c))}function C(a){x.dispatch("resize",a)}function K(a){k.selectThumbnail(a,A)}function N(){"function"===typeof q.markFeatureInteractive&&q.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function M(){"function"===typeof q.markFeatureInteractive&&q.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===e.useIV?u.when("a-modal").execute(function(){N()}):N();c.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],n);a.declarative("thumb-action",["click"],n);a.declarative("main-image-click",["click"],U);a.declarative("main-image-click",["mouseenter","mouseleave"],G);a.declarative("button-360-click",["click"],F);a.on("resize",C)}function Q(a){var c=
a.data,f;c&&"ingress"!==c.type&&"click"===a.type&&(f=a);return f}function L(a){var c=D.getCurrentItem(),f={type:"click"};f.$declarativeParent=a;f.data=c;return f}var z,c,x,D,A;return function(a,e,h){z=this;c=a;x=e;D=h;A=f("#imageBlock #altImages ul");var k=f("#imageBlock .canvas"),g=f("#main-image-container"),b;z.subViews=[];for(e=0;e<p.length;e++)z.subViews.push(new p[e](a,h,z,x));z.render=function(a,e,h,m){var l=0;A.find(".item").remove();a=a||D.getCurrentItem().color;f.each(z.subViews,function(b,
f){l=(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment?f.render(a,l,k,A,g,e,h,m):f.render(a,l,k,A,g,e,h))||l});var T=A.find(".a-button-selected").closest(".a-declarative");b=L(T)};z.init=function(){A=f("#imageBlock #altImages ul");var a=A.find(".a-button-selected").closest(".a-declarative"),g=a.data("action"),a=a.data(g)||{};a.color=c.landingAsinColor||c.defaultColor;x.dispatch("updateModel",{data:a});z.render(a.color,!0);c.isDebug&&q.console&&console.log(c);x.register("updateView",
y);x.register("selectThumbnail",K);M()};z.update=function(a){f.each(z.subViews,function(c,g){g.update(a)});c.usePeekHover&&("mouseleave"===a.type?x.dispatch("updateSelection",b):"click"===a.type&&(b=Q(a)||b))}}}var k=["A","jQuery","imageBlockUtils","postMetric"].concat(e.views);u.when.apply(u,k).register("ImageBlockView",function(){for(var a=arguments[0],d=arguments[1],e=arguments[2],h=arguments[3],k=[],n=4,q=arguments.length;n<q;n++)k.push(arguments[n]);return f(a,d,e,h,k)})});"use strict";u.when("A",
"jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(e,a,f,k,l,d,m){function h(c,g,b,d){if(!f.isjQueryObjDefined(c.find(".a-button-selected"))){var e=w.getCurrentItem();if(!d||"chromeless-video"!==e.type||!r.autoplayVideo)if(d=0,"image"===e.type&&(d=Math.max(F(e.color,e.variant),0)),!(e.thumbnailIndex>=r.maxAlts&&0!=d)){var t=g+d;t>=b&&(d=0,t=g);g=f.getImageHash(e.color,d,r);-1!==g&&(H.dispatch("updateModel",
{data:{index:d,thumbnailIndex:t,variant:g.variant,type:"image",shoppableScene:g.shoppableScene}}),g=c.find(".item").get(t),f.selectGivenThumbnail(a(g),c))}}}function p(c,g,b){if((2===r.unrolledImageBlockTreatment||3===r.unrolledImageBlockTreatment)&&b)return c;var e=r.colorImages&&r.colorImages[g];g=c;2!==r.unrolledImageBlockTreatment&&3!==r.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(c){(!a(this)[0].classList.contains("thumbTypeimage")||c>=e.length||c>=r.maxAlts)&&a(this).remove()});
f.isDefined(e)&&(a.each(e,function(g,b){if(c<r.maxAlts)if(2===r.unrolledImageBlockTreatment||3===r.unrolledImageBlockTreatment){c++;var d=a(".thumbItemUnrolled");d[g]?d[g].querySelector("img").src=b.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+b.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",index:g,thumbnailIndex:c,variant:b.variant,shoppableScene:b.shoppableScene},b.thumb,R,"imageThumbnail"),c++}),d.isEnabled&&m.logAltImgRequestPlacedOnThumbnails(a,d,w),h(R,g,c,b));return c}function n(a,c){r.useIV&&
f.isDefined(c.hiRes)&&a.css("cursor","pointer")}function U(c,g){if("image"===c.type){var b=a("#image-canvas-caption #canvasCaption"),d,e=r.staticStrings,t=r.colorImages,h=c.color,k=c.index;f.isShoppableScenesEnabled()&&c.shoppableScene?d=e.clickSceneTagsToShopProducts:g&&r.useIV?d=e.clickToExpand:t[h]&&t[h][k].hiRes&&r.useHoverZoom?(d=r.useHoverZoomIpad?e.touchToZoom:r.useClickZoom?e.clickToZoom:e.rollOverToZoom,r.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+r.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+
d)):r.useIV&&(d=e.clickToExpand);b.html(d)}}function G(){g.find("li").removeClass("selected");a("#image-canvas-caption #canvasCaption").empty();f.hideUnavailable()}function F(a,c){return f.getIndexForVariant(a,c,r)}function y(a,c,g){var b=c.thumbnailIndex,f=r.colorToAsin[c.color]&&r.colorToAsin[c.color].asin;c="altImageHover"===g&&t&&t.altImageIdx===b&&t.asin===f&&"swatchClick"===t.event?!0:"swatchHover"===g?t&&t.asin===f&&t.event===g:t&&t.altImageIdx===b&&t.asin===f&&t.event===g;if(!c){var d="#",
e=a.find(".imgTagWrapper img").get(0);e&&(d=e.src);a=new Image;a.onload=function(){if(e){e.src=d;var a=e.width,c=e.height,t=e.naturalWidth,h=e.naturalHeight;try{var k=(Math.abs(a/t*h-c)/c).toFixed(2);.01<k&&(q.ue&&((("landing"!==g||I||P)&&"swatchClick"!==g||q.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===g||"swatchClick"===g)?q.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==g||P?"altImageHover"!==g||I||(q.ue.count("imageBlock-PC-hi_res_alt_image_distortion",
1),I=!0):(q.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),P=!0)),q.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},q.ueLogError("swatchHover"===g?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" Event:"+g+" Diff:"+k.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" at altImageIdx "+b+" Event:"+g+" Diff:"+k.toString()+"]"},a)))}catch(m){q.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},
q.ueLogError(m,a))}}};a.src=d;t.altImageIdx=b;t.asin=f;t.event=g}}function C(c,g){var d="a-dynamic-image";if(!r.acEnabled){var e;a.each(c.main,function(a,c){f.isDefined(e)||(e=parseFloat(c[1]/c[0])<=parseFloat(r.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=e}var t=f.getMaxDimensionsOfMainImage(c.main,b,r),h=t[0],k=t[1],t=a("\x3cdiv\x3e\x3c/div\x3e"),h={"max-height":h,"max-width":k};t.addClass(d).css(h).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:g}).data("a-dynamic-image",
c.main);return t}function K(a,c,b){var f="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",f,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=g.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");b.addClass("celwidget").attr("cel_widget_id",f);b.children("span").css("display","inline-block");H.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,
imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in q&&(new MutationObserver(function(g,b){g.forEach(function(g){"childList"===g.type&&g.target.classList.contains("mirai-scene-image-block-tag-container")&&1===g.addedNodes.length&&"IMG"===g.addedNodes[0].tagName&&""!==g.addedNodes[0].src&&(g=g.addedNodes[0],"function"!==typeof g.onload&&(g.onload=function(){e.trigger("shoppable-scene-image-loaded",
{index:a,shoppableScene:c.shoppableScene})}),b.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",f,{wb:1});return b}function N(c,a,b){b=C(c,b);c=f.isShoppableScenesEnabled()&&c.shoppableScene?K(a,c,b):g.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");c.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});c.find(".placeHolder").replaceWith(b);g.find(".list").append(c);e.loadImageManually(b);return c}function M(c){var a=b.css("height");null!==a&&c.find(".imgTagWrapper").css("height",a);c.addClass("selected");r.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(r.imgTagWrapperClasses)}function Q(c){if(c.isUserGenerated){var a=w.getPreviousItem(),g=c.variant;f.isDefined(g)&&a.thumbnailIndex!==c.thumbnailIndex&&(d.isEnabled&&
m.logAltImgRequestServed(d),l.postCountMetric("ImageThumbnailSelectedVariant:"+g),0===g.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+g),l.postCountMetric("IGImageSelectedEvent:"+c.interaction)))}}function L(b,d,t,h){if((2===r.unrolledImageBlockTreatment||3===r.unrolledImageBlockTreatment)&&!h&&"unavailable"!==b.type)b=r.colorImages&&r.colorImages[t],a(".unrolledImg").each(function(c){a(this).remove()}),f.isDefined(b)&&(a.each(b,function(c,g){if(c<r.maxAlts){var b=a(".unrolledImg");
b[c]?a(".unrolledImg #unrolledImgNo"+c+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+g.large+'" data-a-hires\x3d"'+g.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):c>=b.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(c+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
c+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+g.large+'" data-a-hires\x3d"'+g.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),e.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")));else if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===
b.type){(t=f.isDefined(d))&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");h=f.getImageHash(b.color,b.index,r);if(-1===h)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},c(b)||(H.dispatch("updateModel",d),f.showUnavailable(b.color)),-1;var k=g.find(".item.itemNo"+b.thumbnailIndex);f.isjQueryObjDefined(k)||(k=N(h,b.thumbnailIndex,d),t?(P=I=!1,y(k,b,"swatchClick")):y(k,b,"altImageHover"));M(k);H.dispatch("loadMagnifier");U(b);n(k,h);Q(b);e.trigger("dp:image-block:update",
h)}}function z(){a("#imageBlock").css("opacity","1");g.css("opacity","1");f.spinner(g,!1)}function c(c){return f.lazyLoadingRequired(c,w,r)}function x(){var c=g.find(".item .imgTagWrapper"),d=f.getContainerHeight(b,r.holderRatio,r.holderMaxHeight);0<d&&(b.height(d),c.height(d));g.find("img.a-dynamic-image").each(function(){var c=a(this);c.data("a-manual-replacement")&&e.loadDynamicImage(this);var g=c.data("a-dynamic-image"),g=f.getMaxDimensionsOfMainImage(g,b,r);c.css({"max-height":g[0]+"px","max-width":g[1]+
"px"})})}function D(c){U(w.getCurrentItem(),"mouseenter"===c.type)}var A,r,w,H,R,g,b,t={},J,E=null,I=!1,P=!1;e.on("triggerImageAjax",function(c){var a=w.getCurrentItem().color;r.colorImages[a]||(r.colorImages[a]=c);c={type:"updatedData",data:w.getCurrentItem()};H.dispatch("updateView",c);(a=r.colorToAsin[a])&&a.asin&&u.register(f.rankedImagesReadyEvent(a.asin))});return function(a,d,t,h){A=this;r=a;w=d;H=h;r.colorImages[r.landingAsinColor]=r.colorImages[r.defaultColor];A.render=function(a,f,d,e,t,
h,k,m){g=d;R=e;b=t;J=p(f,a,h);h?0===f&&y(g.find(".item.itemNo0"),w.getCurrentItem(),"landing"):(f=w.getCurrentItem(),c(f)&&H.dispatch("updateModel",{data:{type:"lazy-loaded"}}));f=w.getCurrentItem();d=!h;c(f)||(z(),G(),d&&g.find(".list .item").remove());2===r.unrolledImageBlockTreatment||3===r.unrolledImageBlockTreatment?"swatchClick"===m&&r&&r.colorImages?(E=r.colorImages[a],L(w.getCurrentItem(),k,a,h)):"updatedData"===m&&r&&r.colorImages&&r.colorImages[a]!==E&&(E=r.colorImages[a],L(w.getCurrentItem(),
k,a,h)):L(w.getCurrentItem(),k,a,h);return J};A.update=function(a){var b=a.data;w.setCurrentEvent(a);"ingress"===b.type||c(a.data)||(z(),G());if("swatchHover"===a.type)if(b.color===w.getCurrentItem().color)L(w.getCurrentItem(),null,b.color,!0);else{if(!a.captured){var d=Math.max(F(b.color,w.getCurrentItem().variant),0),d=f.getImageHash(b.color,d,r);if(-1===d)c(b)||f.showUnavailable(b.color),b=-1;else{var t=g.find(".swatchHoverExp"),h=C(d);t.find(".imgTagWrapper").html(h);e.loadImageManually(h);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");
M(t);y(t,b,"swatchHover");e.trigger("dp:image-block:update",d);b=void 0}-1!==b&&(a.captured=!0)}}else"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+J),L(b,null,b.color,!0),r.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,R),"click"===a.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+J))))};
r.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");H.register("imageHover",D);H.register("resize",x)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(e,a,f,k,l,d,m){function h(d,g,b,e,h){if(!f.isjQueryObjDefined(d.find(".a-button-selected"))){var k=x.getCurrentItem();if(!e||"chromeless-video"!==k.type||!c.autoplayVideo){e=0;"image"===k.type&&(e=
Math.max(f.getIndexForVariant(k.color,k.variant,c),0));var m=0;f.isDefined(c.heroImage[k.color])&&(m=c.heroImage[k.color].length);h=e-(g>=c.maxAlts?c.maxAlts-h-m:0);g=0<=h?g+h:e+m;g>=b&&(e=0,g=m);b=f.getImageHash(k.color,e,c);-1!==b&&(D.dispatch("updateModel",{data:{index:e,thumbnailIndex:g,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),b=d.find(".item").get(g),f.selectGivenThumbnail(a(b),d))}}}function p(a){if(!c.useChildVideos)return f.lazyLoadingRequired(x.getCurrentItem(),x,
c)?void 0:c.videos;if(c.colorToVideo[a])return c.colorToVideo[a];var g=c.colorToAsin[a];if(g&&g.asin){var b={};b.params={asin:g.asin,productGroupID:c.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP};c.isDPXFeatureEnabled||(b.success=function(a){videosOnTwisterRefresh(a)},k.load(VIDEO_AJAX_ENDPOINT,b));return c.colorToVideo&&c.colorToVideo[a]}}function n(e,g,b){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&b)return e;
var t=p(g),k=f.isDefined(t)&&0<t.length&&c.alwaysIncludeVideo?1:0;g=c.colorImages&&c.colorImages[g];var t=e,l=0;f.isDefined(g)&&(a.each(g,function(g,b){if(l>=c.maxAlts-k&&e<c.maxAlts+c.additionalNumberOfImageAlts){if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){var d=a(".thumbItemUnrolled");d[e]?d[e].querySelector("img").src=b.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
(e+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(e+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(e+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+b.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",index:g,thumbnailIndex:e,variant:b.variant,shoppableScene:b.shoppableScene},
b.thumb,A,"imageThumbnail");e++}l++}),d.isEnabled&&m.logAltImgRequestPlacedOnThumbnails(a,d,x),h(A,t,e,b,k));return e}function U(a,g){c.useIV&&f.isDefined(g.hiRes)&&a.css("cursor","pointer")}function G(d,g){if("image"===d.type){var b=a("#image-canvas-caption #canvasCaption"),e,h=c.staticStrings,k=c.colorImages,m=d.color,l=d.index;f.isShoppableScenesEnabled()&&d.shoppableScene?e=h.clickSceneTagsToShopProducts:g&&c.useIV?e=h.clickToExpand:k[m]&&k[m][l].hiRes&&c.useHoverZoom?(e=c.useHoverZoomIpad?h.touchToZoom:
c.useClickZoom?h.clickToZoom:h.rollOverToZoom,c.hoverZoomIndicator&&(e="\x3cimg src\x3d'"+c.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+e)):c.useIV&&(e=h.clickToExpand);b.html(e)}}function F(d,g){var b="a-dynamic-image";if(!c.acEnabled){var e;a.each(d.main,function(a,g){f.isDefined(e)||(e=parseFloat(g[1]/g[0])<=parseFloat(c.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});b+=e}var h=f.getMaxDimensionsOfMainImage(d.main,w,c),k=h[0],m=h[1],h=a("\x3cdiv\x3e\x3c/div\x3e"),k={"max-height":k,
"max-width":m};h.addClass(b).css(k).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:g}).data("a-dynamic-image",d.main);return h}function y(a,c,b){var f="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",f,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=r.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");b.addClass("celwidget").attr("cel_widget_id",
f);b.children("span").css("display","inline-block");D.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in q&&(new MutationObserver(function(b,f){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&
""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){e.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:c.shoppableScene})}),f.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",f,{wb:1});return b}function C(a,c,b){b=F(a,b);a=f.isShoppableScenesEnabled()&&a.shoppableScene?y(c,a,b):r.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(b);r.find(".list").append(a);e.loadImageManually(b);return a}function K(a){var g=w.css("height");null!==g&&a.find(".imgTagWrapper").css("height",g);a.addClass("selected");c.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(c.imgTagWrapperClasses)}function N(d,
g,b,h){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&!h&&"unavailable"!==d.type){d=c.colorImages&&c.colorImages[b];g=a(".unrolledImg");b=p(b);var k=f.isDefined(b)&&0<b.length&&c.alwaysIncludeVideo?1:0;g.length>c.maxAlts&&g.each(function(b){b>=c.maxAlts&&a(this).remove()});f.isDefined(d)&&a.each(d,function(b,g){b<c.maxAlts-k+c.additionalNumberOfImageAlts&&b>=c.maxAlts-k&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(b+k+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(b+k)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(b+k)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
g.large+'" data-a-hires\x3d"'+g.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){b=f.getImageHash(d.color,d.index,c);if(-1===b)return g={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(d,x,c)||(D.dispatch("updateModel",g),f.showUnavailable(d.color)),-1;h=r.find(".item.itemNo"+d.thumbnailIndex);f.isjQueryObjDefined(h)||
(h=C(b,d.thumbnailIndex,g));K(h);D.dispatch("loadMagnifier");G(d);U(h,b);e.trigger("dp:image-block:update",b)}}function M(a){var g=x.getCurrentItem().color;c.colorImages[g]||(c.colorImages[g]=a);a={type:"updatedData",data:x.getCurrentItem()};D.dispatch("updateView",a);(g=c.colorToAsin[g])&&g.asin&&u.register(f.rankedImagesReadyEvent(g.asin))}function Q(){var d=r.find(".item .imgTagWrapper"),g=f.getContainerHeight(w,c.holderRatio,c.holderMaxHeight);0<g&&(w.height(g),d.height(g));r.find("img.a-dynamic-image").each(function(){var b=
a(this);b.data("a-manual-replacement")&&e.loadDynamicImage(this);var g=b.data("a-dynamic-image"),g=f.getMaxDimensionsOfMainImage(g,w,c);b.css({"max-height":g[0]+"px","max-width":g[1]+"px"})})}function L(a){G(x.getCurrentItem(),"mouseenter"===a.type)}var z,c,x,D,A,r,w,H;return function(d,g,b,h){z=this;c=d;x=g;D=h;e.on("triggerImageAjax",M);c.colorImages[c.landingAsinColor]=c.colorImages[c.defaultColor];z.render=function(b,g,d,e,h,k,t){r=d;A=e;w=h;H=n(g,b,k);k||(g=x.getCurrentItem(),f.lazyLoadingRequired(g,
x,c)&&D.dispatch("updateModel",{data:{type:"lazy-loaded"}}));g=x.getCurrentItem();d=!k;f.lazyLoadingRequired(g,x,c)||(a("#imageBlock").css("opacity","1"),r.css("opacity","1"),f.spinner(r,!1),r.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),d&&r.find(".list .item").remove());N(x.getCurrentItem(),t,b,k);return H};z.update=function(a){};c.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");D.register("imageHover",L);D.register("resize",
Q)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(e,a,f,k,l,d){function m(a){N?a.css("cursor","url('"+G.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function h(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(f.isDefined(d))for(var d=d[1].split("_"),e=0;e<d.length;e++){var h=d[e].match(/^([A-Z]+)(\d+(\.\d+)?)$/);
f.isDefined(h)&&(a[h[1]]=parseInt(h[2],10))}return a}function p(n,p){function L(){var a;p.useClickZoom?(a=p.offsetInClickZoom,a=[Math.min(1,Math.max(0,t[0]-(E[0]+a))/(E[2]-2*a)),Math.min(1,Math.max(0,t[1]-(E[1]+a))/(E[3]-2*a))]):a=b&&b.updatePosition();if(a&&g&&g.detailSize){var c=[g.detailSize[0]-g.rect.width,g.detailSize[1]-g.rect.height];e.capabilities.rtl?g.detailImage.get(0).style.right=-(a[0]*c[0])+"px":g.detailImage.get(0).style.left=-(a[0]*c[0])+"px";g.detailImage.get(0).style.top=-(a[1]*
c[1])+"px"}}function z(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function c(c){var b=u?c.originalEvent.touches[0]||c.originalEvent.changedTouches[0]:"";t=u?[b.pageX,b.pageY]:[c.pageX,c.pageY];if(e.capabilities.rtl){var g=a(q).width();t=u?[g-b.pageX,b.pageY]:[g-c.pageX,c.pageY]}}function x(a){u&&a.preventDefault();c(a);p.useClickZoom?a=[E[0],E[1],E[0]+E[2],E[1]+E[3]]:(a=b?b.offset:n.offsetParent().offset(),a=G.acEnabled?[a.left,a.top,y.width()+a.left,y.height()+a.top]:[J[0]+
a.left,J[1]+a.top,J[0]+J[2]+a.left,J[1]+J[3]+a.top]);t[0]<a[0]||t[1]<a[1]||t[0]>=a[2]||t[1]>=a[3]||G.acEnabled&&!z(n)?(p.fadeMagnifier?X||(X=!0,da=setTimeout(function(){D(!0)},500)):p.useClickZoom||D(),B&&(B=!1,clearTimeout(ba))):(B||(B=!0,ba=setTimeout(function(){k.postCountMetric("dppc_hoverZoomOpened");l.isEnabled&&d.logHoverZoomRequestServed(l)},1E3)),p.fadeMagnifier&&X&&(X=!1,clearTimeout(da)),L())}function D(c){c&&w.suppressMagnifier(!0);if(F&&(g&&g.hide(),b&&(b.destroy(),b=null),F=!1,u?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),
a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),r(),c))n.one("click.magnifier touchstart.magnifier",function(a){A(a,!0)})}function A(f,d){d&&w.suppressMagnifier(!1);if(!F&&!T&&(0===Z&&(k.postCountMetric("dppc_hoverTime",new Date-(q.ue&&q.ue.t0||0)),Z=1),K[S]||(k.postCountMetric("dppc_hoverMain"),K[S]=1),J=[n.position().left,n.position().top,n.width(),n.height()],S&&(c(f),g?g.refit().show():g=new oa,p.useClickZoom||(b=b||new V),
E=g.getWindowSize(),L()),F=!0,u?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",x).bind("touchend.magnifier",D),a(document).trigger("engaged.magnifier")):(G.acEnabled?y.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",x)),d)){var e=a("#zoomWindow");if(0<e.length)e.one("click.magnifier touchend.magnifier",function(a){D(!0)})}}function r(){p.useHoverZoom&&(u?n.bind("touchstart.magnifier touchmove.magnifier",
A):G.acEnabled?z(n)&&y.bind("mousemove.magnifier",A):n.bind("mousemove.magnifier",A))}var w=this,y=n.offsetParent(),C={detailImageUrl:n.attr("data-old-hires"),location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};p=a.extend(C,p);p.adjustment=[10,0,-10,0];var g=null,b=null,t=null,J=null,E=null,U={"null":1,"":1,undefined:1},F=!1,T=!1,S=p.detailImageUrl,u=p.useHoverZoomIpad||0,Z=0,K={},V=function(){function c(a){var b=Math.round(Math.min(n.width(),g.rect.width/a));a=Math.round(Math.min(n.height(),
g.rect.height/a));h.css({width:b,height:a});d=[b,a]}var b=this,d=[0,0],f=(g.detailSize&&g.detailSize[0]||5E8)/J[2],e=(g.detailSize&&g.detailSize[1]||5E8)/J[3],f=e>f?e:f;a("#magnifierLens").remove();var h=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});p.generalImageUrls.zoomLensBackground&&h.css({backgroundImage:"url("+p.generalImageUrls.zoomLensBackground+")"});G.showMagnifierOnHover?m(h):h.css("cursor","pointer");b.updatePosition=function(){var a=[J[2]-d[0],J[3]-d[1]],c=0>=a[0]?
.5:Math.max(0,Math.min(1,(t[0]-d[0]/2-J[0]-b.offset.left)/a[0])),g=0>=a[1]?.5:Math.max(0,Math.min(1,(t[1]-d[1]/2-J[1]-b.offset.top)/a[1])),f=J[0]+Math.round(c*a[0]),a=J[1]+Math.round(g*a[1]);h.get(0).style.left=f+"px";h.get(0).style.top=a+"px";return[c,g]};b.destroy=function(){h.remove()};b.offset=n.offsetParent().offset();c(f);b.updatePosition();h.appendTo(n.parent());g.detailImage[0].complete||g.detailImage.load(function(){var a=g.detailImage.width()/J[2];c(a);b.updatePosition()})};V.preload=function(){w.preload(p.generalImageUrls.lensBackgroundUrl)};
var oa=function(){function c(){var b={};if("over"===p.location){var b=p.useClickZoom,e={},h=a("#leftCol"),t=a("#centerCol"),m=a("#rightCol"),l=a("#hover-zoom-end"),z=a("#actionPanelContainer"),x=f.isjQueryObjDefined(h)?h.outerHeight():t.outerHeight();e.top=f.isjQueryObjDefined(h)?h.offset().top:t.offset().top;e.bottom=x+e.top;e.right=f.isjQueryObjDefined(m)?m.offset().left:z.offset().left;e.left=b?0:h.offset().left+h.outerWidth();f.isjQueryObjDefined(l)&&l.offset().top>e.bottom&&(e.bottom=l.offset().top);
b=e}else"right"===p.location&&(b=n.offset(),b={left:b.left+n.outerWidth(),top:b.top,right:b.left+n.outerWidth()+400,bottom:b.top+400});p.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+a(p.minHeightElement).outerHeight()));b.bottom=Math.min(b.bottom,a(q).scrollTop()+a(q).height());b.left+=d[0];b.top+=d[1];b.right+=d[2];b.bottom+=d[3];b.width=b.right-b.left;b.height=b.bottom-b.top;p.enhancedHoverOverlay&&f.isDefined(q.pageXOffset)&&(e=a(q).width(),b.width=e-b.left+q.pageXOffset-18,b.height-=14);
k.css({left:b.left,top:b.top,width:b.width,height:b.height});g.rect=b;return g}function b(a){var c=new Image;g.detailSize=[0,0];c.onload=function(){g.detailSize=[c.width,c.height];L()};c.src=a.attr("src");if(0<c.width&&0<c.height)g.detailSize=[c.width,c.height];else if(p.detailImageSize)g.detailSize=p.detailImageSize;else{a=h(c.src);var d=J[2]/J[3];a.SS||a.AA?(a=a.SS||a.AA,g.detailSize=[a,a]):a.SX?g.detailSize=[a.SX,Math.round(a.SX/d)]:a.SY?g.detailSize=[Math.round(a.SY*d),a.SY]:a.SL&&(g.detailSize=
1<=d?[a.SL,Math.round(a.SL/d)]:[Math.round(a.SL*d),a.SL])}}var g=this,d=p.adjustment;a("#zoomWindow").remove();var e={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:p.zIndex};p.enhancedHoverOverlay&&(e.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",e.border="1px solid #949494",e.borderColor="rgb(148,148,148)");var k=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(e);p.fadeMagnifier&&k.fadeIn(200);p.useClickZoom&&(N?k.css("cursor",'url("'+p.zoomOutIcon+'"), auto'):(k.css("cursor","-webkit-zoom-out"),
k.css("cursor","-moz-zoom-out"),k.css("cursor","zoom-out")));g.updateImage=function(c){c=a("\x3cimg id\x3d'detailImg' src\x3d'"+c+"'/\x3e").css("position","absolute");g.detailImage&&g.detailImage.remove();k.append(c);a(document).trigger("updated.magnifier");g.detailImage=c;b(g.detailImage)};g.refit=function(){c();b(g.detailImage);return g};p.fadeMagnifier?(g.show=function(){k.fadeIn(200);return g},g.hide=function(){k.fadeOut(200);return g}):(g.show=function(){k.show();return g},g.hide=function(){k.hide();
return g});g.destroy=function(){k.remove();return g};g.getWindowSize=function(){return[g.rect.left,g.rect.top,g.rect.width,g.rect.height]};g.updateImage(S);c();k.appendTo(document.body)},X=!1,da,B=!1,ba;w.preload=function(c){c=a.makeArray(c);for(var b=c.length,g=0;g<b;g++)c[g]instanceof Array?w.preload(c[g]):"string"===typeof c[g]&&c[g]&&!U[c[g]]&&(U[c[g]]=new Image,U[c[g]].src=c[g])};w.changeImage=function(c,b){F&&D();S=b;n.attr("src",c);w.preload(c);J=[n.position().left,n.position().top,n.width(),
n.height()];b&&("immediately"===p.preload?w.preload(b,!0):a(q).ready(function(){w.preload(b)}),g?g.updateImage(b):n.attr("data-old-hires",b))};w.destroy=function(){G.acEnabled?y.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");b&&b.destroy();b=null;g&&g.destroy();g=null};w.detailImage=function(){return g.detailImage};w.suppressMagnifier=function(a){T=
a};w.isEngaged=function(){return F};w.engageMagnifier=A;w.disengageMagnifier=D;n[0].complete?r():n.one("load",r);w.preload(n.attr("src"));q.performance&&performance.now&&q.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(p.preload){var ia=p.detailImageUrl,C=function(){w.preload(ia,!0);p.useClickZoom||V.preload()},W=p.preload;W.constructor!==Array&&(W=[W]);for(var v=0;v<W.length;v++)if("immediately"===W[v])C();else if(a(q)[W[v]])a(q)[W[v]](C);else a(q).bind(W[v],C)}return w}function n(){if(G.useHoverZoom){var e=
{adjustment:[0,0,1,1],generalImageUrls:G.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:G.useHoverZoomIpad,useHoverZoom:G.useHoverZoom,useClickZoom:G.useClickZoom,fadeMagnifier:G.fadeMagnifier,zoomOutIcon:G.staticImages.zoomOutCur,enhancedHoverOverlay:G.enhancedHoverOverlay||G.atfEnhancedHoverOverlay};C&&(C.destroy(),C=ea);var h=u.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(h)?
G.useClickZoom?(h.one("click.loadmagnifier touchstart.loadmagnifier",function(a){C=new p(h,e);C.engageMagnifier(a,!0)}),N?h.css("cursor",'url("'+G.staticImages.zoomInCur+'"), auto'):(h.css("cursor","-webkit-zoom-in"),h.css("cursor","-moz-zoom-in"),h.css("cursor","zoom-in"))):C=new p(h,e):l.isEnabled&&d.logHoverZoomApplicability(a,l)}}var U,G,F,y,C,u,N=navigator.userAgent.match(/msie|trident/i);return function(a,d,f,e){U=this;G=a;F=d;l.refToModel=F;y=e;U.render=function(a,d,f,e,h,k){u=f;C&&(C.destroy(),
C=ea)};U.update=function(a){};y.register("loadMagnifier",n);y.register("resize",n)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(e,a,f,k){function l(a,d,e){a=(a=e?e:f.getColorFromState(d.getState().hovered_variations,h))&&""!==a?a:h.defaultColor;n.dispatch("updateView",{type:"swatchHover",data:{color:a}});k.postCountMetric("swatchHover")}function d(a,d,e,m){a=(a=m?m:f.getColorFromState(d.getState().selected_variations,h))&&""!==a?a:h.defaultColor;
a===p.getCurrentItem().color?"function"===typeof e&&e():(n.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",a);e()}}),k.postCountMetric("swatchClick"))}var m,h,p,n;return function(a,f,k,y){m=this;h=a;p=f;n=y;e.on("image-block-twister-swatch-hover",l);e.on("image-block-twister-swatch-click",d);m.render=function(a,d,f,e,h){};m.update=function(a){}}});
"use strict";u.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(e,a,f,k,l,d,m){function h(b,g,d,f){!c.autoplayVideo||ha||c.useChromelessVideoPlayer?!k.isjQueryObjDefined(b.find(".a-button-selected"))&&(d=x.getCurrentItem(),!f||c.prioritizeVideos||"chromeless-video"===d.type&&c.autoplayVideo)&&(f=k.getVideoHash(d.color,0,c),-1===f||d.thumbnailIndex>=c.maxAlts-1||(g+=0,D.dispatch("updateModel",{data:{index:0,thumbnailIndex:g,
variant:f.variant,type:c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),g=b.find(".item").get(g),k.selectGivenThumbnail(a(g),b))):(k.selectGivenThumbnail(b.find("img:last"),b),k.fadeToThumbnail(b.find("img").length-1,H,b))}function p(a){var b=x.getCurrentItem().color;if(c.useChildVideos&&!c.colorToVideo[b]){var g=function(){if(a){c.colorToVideo[b]=a;var g={type:"updatedData",data:x.getCurrentItem()};D.dispatch("updateView",g)}};c.lazyLoadExperienceDisabled?g():u.when(k.rankedImagesReadyEvent(c.colorToAsin[b].asin)).execute(function(){g()})}}
function n(a){if(!c.useChildVideos)return k.lazyLoadingRequired(x.getCurrentItem(),x,c)?void 0:c.videos;if(c.colorToVideo[a])return c.colorToVideo[a];var b=c.colorToAsin[a];if(b&&b.asin){var g={};g.params={asin:b.asin,productGroupID:c.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP};c.isDPXFeatureEnabled||(g.success=function(a){p(a)},l.load("/gp/product/features/apparel-main-image/videos.html",g));return c.colorToVideo&&c.colorToVideo[a]}}function U(a){g&&
null===a&&2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment&&(g.hide(),r.parent().css("z-index",-1),w.hide())}function G(){D.dispatch("selectThumbnail",k.useTabbedImmersiveView(c)?1:0)}function F(c,b,e,h){return f.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:c[0],streamingUrls:b.url,swfUrl:e.swfUrl,foresterMetadataParams:e.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=
k.isjQueryObjDefined(c.find("video"))?"HTML5":"FLASH";d.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){c.parent().css("z-index",8)},videounsupported:function(){G();d.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){G();d.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){g.seek(0)}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(b,g,d){b=d.durationSeconds-d.playheadTimeSeconds;c.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*
b,.1,function(){c.parent().css({"background-color":"transparent","z-index":-1});G();a(this).show().css("opacity",1)})}}]})}function y(d,f){if("chromeful-video"===d.type||"chromeless-video"===d.type||"unrolled-video-add"===f){var h=k.getVideoHash(d.color,d.index,c);if(-1===h)return-1;if("chromeful-video"===d.type)a:{var m=d.thumbnailIndex+1,l=H.width()/H.height(),z=parseInt(h.videoWidth,10),n=parseInt(h.videoHeight,10);k.updateAspectRatio(l,z,n,r);if(g&&"unrolled-video-add"!==f)g.show(),k.loadMediaIntoAiry(g,
h,b,c.tabletWeb);else if(c.tabletWeb)g=E;else if(g=k.createAiryInstanceForChromefulNotUseTabbedImmersiveView(r,h,b,null,c.autoplayVideo,H,w,A,m,c.useTabbedImmersiveView,P,I,T,f),"unrolled-video-add"===f){g.show();k.loadMediaIntoAiry(g,h,b,c.tabletWeb);break a}b:if(2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment)if(k.useTabbedImmersiveView(c)){if(1<k.getVideosCount(x.getCurrentItem().color,c)){if(k.isDefined(R)){w.show();break b}R=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href",
"#").text(c.staticStrings.watchMoreVideos);w.find("#videoCaption").append(R);e.declarative.create(R,"videoIngressClick",t)}k.playVideoInImmersiveView(c,x.getCurrentItem().color)&&(e.declarative.create(r,"videoIngressClick",t),r.attr&&r.attr("data-ux-click",""),r.children().css("z-index","-1"),r.css("display","inline-block"))}else w.find("#videoCaption").text(c.staticStrings.playVideo),w.show();h=g;c.autoplayVideo&&h&&!ha&&(k.toggleVideoCaption(w),h.setVolume(0),h.show(),h.play(),ha=!0)}else if(g&&
"unrolled-video-add"!==f)g.show(),k.loadMediaIntoAiry(g,h,b,c.tabletWeb),g.play(),w.show();else if(g=F(r,h,b))"unrolled-video-add"===f&&(g.show(),k.loadMediaIntoAiry(g,h,b,c.tabletWeb)),g.play()}}function C(b,g,f){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&f)return b;var m=n(g);g=b;var l=a(".unrolledImg"),z=k.isDefined(m)&&0<m.length&&c.alwaysIncludeVideo?1:0;k.isDefined(m)&&0<m.length&&!c.alwaysIncludeVideo&&b===c.maxAlts&&d.postCountMetric("IBVideoDrop");l.length>
c.maxAlts&&l.each(function(b){b>=c.maxAlts&&a(this).remove()});z&&b===c.maxAlts&&(2===c.unrolledImageBlockTreatment||3==c.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):A.find(".item:last").remove(),b--);k.isDefined(m)&&(a.each(m,function(g,f){if(b<c.maxAlts){if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){var e=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+
e+" thumbIndex"+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));
a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
b+'" class\x3d"videoIndex'+g+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));2===c.dp60VideoPosition&&K(a(".regularAltImageViewLayout"),c.dp60VideoPosition)}else{var e=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",h={type:e,index:g,thumbnailIndex:b,variant:f.variant};t={type:"video-ingress",index:g,thumbnailIndex:b,variant:f.variant};k.useTabbedImmersiveView(c)&&("chromeful-video"===e&&(V+=" videoBlockIngress  videoBlockDarkIngress",
f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),c.altsOnLeft||(V+=" a-align-top"));k.createThumbnail(h,f.thumb,A,V);2===c.dp60VideoPosition&&K(A,c.dp60VideoPosition);if(k.useTabbedImmersiveView(c)){N(A.find(".videoBlockIngress img"),c.videoIngressATFSlateThumbURL);var h=1<m.length?"multiple-videos":"one-video",l=1<m.length?m.length+" "+c.staticStrings.multipleVideos:c.staticStrings.singleVideo;l&&A.find(".videoBlockIngress").append(A.find("#videoCount_template").clone().text(l).attr("id",
"videoCount")).addClass(h)}h=d.buildNexusMetric("ib.thumbnailImpression",b+1,f.mediaObjectId,f.groupType,P,I,T,S);d.emitNexusMetric(h);h=d.buildNexusMetric("ib.thumbnailRender",b+1,f.mediaObjectId,f.groupType,P,I,T,S);d.emitNexusMetric(h);Z||(Z=!0,d.postCountMetric("chromeless-video"===e?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}b++}if(k.useTabbedImmersiveView(c))return!1}),h(A,g,b,f),c.imageBlockRenderingStartTime&&d.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",
e.now()-c.imageBlockRenderingStartTime));return b}function K(b,g){if(0!==g)if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){var d=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=b.children(".thumbTypeimage"),d=b.children(".thumbType"+d);f&&d&&f[g-1]&&a(f[g-1]).before(d[0]);d=a(".unrolledScrollBox .list-unrolled");f=d.children(".unrolledImg.imgMedia");d=d.children(".unrolledImg.videoMedia");f&&d&&f[g-1]&&a(f[g-1]).before(d[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=
null,g=0;g<this.classList.length;g++)this.classList[g].includes("itemNo")&&(c=g);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else f=b.children(".imageThumbnail"),d=b.children(".videoBlockIngress"),f&&d&&f[g-1]&&a(f[g-1]).before(d[0])}function N(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);var g=new Image;g.onload=function(b){a.attr("src",c)};g.src=c}}function M(a){g&&g.pause();a.data=t;a.clickTimeStamp=a.$event.timeStamp;
var b="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";D.dispatch("imageClick",a);d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=d.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,c.videos[0].mediaObjectId,c.videos[0].groupType,P,I,T,S);d.emitNexusMetric(a);d.postCountMetric(b)}function Q(a){E=a.player;E.hide=function(){E.pause();e.$("#main-video-container").find(".vse-player-container").hide()};E.show=function(){e.$("#main-video-container").find(".vse-player-container").show();
E.play()};E.getMediaSourceInfo=function(){return k.getMediaSourceInfo()}}function L(b,g,d,f,h,t){U(t);r=null!==t?a("#unrolledImgNo"+t.thumbnailIndex):f.find("#main-video-container");w=null!==t?"":r.parent().find("#video-canvas-caption");H=null!==t?a(".unrolledScrollBox"):a("#main-image-container");P=q.location.href;b=x.getCurrentItem().color;!0===h?I=c.mediaAsin:(I=c.colorToAsin[b]&&c.colorToAsin[b].asin,I=k.isDefined(I)?I:c.mediaAsin);c.useChromelessVideoPlayer||r.addClass("chromeful-container");
null!==t?y(t,"unrolled-video-add"):y(x.getCurrentItem(),"");k.useTabbedImmersiveView(c)&&e.declarative("videoIngressClick",["click"],M);b=x.getCurrentItem().color;h=k.getVideoHash(b,0,c);-1!==h&&c.tabletWeb&&(h=k.getNilgiriServiceAjaxRequest(c,b,h),m.get(e,"#main-video-container",h,function(){e.$("#main-video-container").find(".vse-player-container").hide()},function(){e.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}var z,c,x,D,A,r,w,H,R,g,b,t,J,E,I,P,T,S,ca,Z=!1,ha=!1,V="videoThumbnail";
return function(g,f,h,m){z=this;c=g;x=f;D=m;b=c.airyConfig;T=c.contentWeblab&&c.contentWeblab+":"+c.contentWeblabTreatment;c.colorToVideo={};c.colorToVideo[c.landingAsinColor]=c.colorToVideo[c.defaultColor]=c.videos;c.tabletWeb?(ca="tablet",S="applicationType.ImageBlock.vse_ib_tablet_web"):e.capabilities.tablet?(ca="tablet",e.capabilities.isAmazonApp&&(S="applicationType.ImageBlock.vse_ib_tablet_app")):(ca="desktop",S="desktop_web.ImageBlock.vse_ib_iv");z.render=function(b,g,d,f,e,h){var k=[];if(2===
c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){A=a("ul.regularAltImageViewLayout");J=C(g,b,h);k=[];g=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var m=0;m<g.length;m++){var t=g[m].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",l=Number(g[m].classList[2].slice(10)),z=a(".thumbItemUnrolled").index(g[m]);k.push({color:b,thumbnailIndex:z,
type:t,varient:"MAIN",index:l})}for(m=0;m<k.length;m++)L(b,d,f,e,h,k[m])}else A=f,J=C(g,b,h),L(b,d,f,e,h,null);return J};z.update=function(a){var b=a.data;"ingress"===b.type||k.lazyLoadingRequired(b,x,c)||U(null);if("swatchHover"===a.type)b.color===x.getCurrentItem().color?y(x.getCurrentItem(),""):a.captured||k.lazyLoadingRequired(b,x,c)&&!k.lazyLoadOnHoverEnabled(c)&&y(x.getCurrentItem(),"");else if("chromeful-video"===b.type||"chromeless-video"===b.type){var g=k.getVideoHash(b.color,b.index,c);
if("mouseenter"===a.type&&(d.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+J),"chromeless-video"===b.type)){var f=d.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,g.mediaObjectId,g.groupType,P,I,T,S);d.emitNexusMetric(f)}y(b,"");c.usePeekHover&&"click"!==a.type||!e.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(k.selectGivenThumbnail(a.$declarativeParent,A),"click"===a.type&&(g=d.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,g.mediaObjectId,
g.groupType,P,I,T,S),(!k.useTabbedImmersiveView(c)&&"chromeless-video"===b.type||"tablet"==ca)&&d.emitNexusMetric(g),k.useTabbedImmersiveView(c)&&(d.emitNexusMetric(g),d.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+J),t.action="videoIngressClick",t.clickTimeStamp=a.$event.timeStamp,t.$event=a.$event,t.$currentTarget=a.$currentTarget,D.dispatch("videoIngressClick",t),d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};if(c.isDPXFeatureEnabled)e.on("triggerVideoAjax",
p);e.on("vsePlayer-imageblock_tablet",Q)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(e,a,f,k,l,d,m,h){function p(a){return a.hiRes||a.large||a.main[a.main.length-1]}function n(){v.find("#ivTitle").click(function(){W.hide()})}function U(){O=Pa?{type:"360-spin"}:ba.getCurrentItem()}function G(){var a=v.find("#ivStage"),b=W.$container.find(".a-popover-wrapper"),
c=b.find(".a-popover-inner"),b=b.height()-h.getDimension(c,"padding-top")-h.getDimension(c,"padding-bottom");v.css("height",b);var c=v.find("#ivTitle").outerHeight(!0),g=v.find("#ivVariationSelection").outerHeight(!0),f=v.find("#ivMediaSelection").outerHeight(!0),d=v.find("#ivThumbs"),e=h.getDimension(d,"margin-top")+h.getDimension(d,"margin-bottom");d.css("height",b-c-g-f-e);v.find("#ivLargeImage").css("height",b);a.css("width",v.width()-h.getDimension(v,"padding-left")-h.getDimension(v,"padding-right")-
v.find("#ivThumbColumn").width()-h.getDimension(a,"margin-left")-h.getDimension(a,"margin-right"))}function F(){v.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").show(),"chromeful-video"===O.type&&v.find("#ivVideo_"+O.index).click()):"images"===b?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").hide(),"chromeful-video"===O.type&&(0===fa&&0===aa?v.find("#iv360").click():
0===fa?v.find("#ivHeroImage_0").click():v.find("#ivImage_0").click())):"videos"===b&&(v.find("#ivVideoList").show(),v.find("#ivThumbs").hide(),"chromeful-video"!==O.type?v.find("#ivVideoList_0").click():v.find("#ivVideoList_"+O.index).click())})}function y(){var a=v.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var f=g.width(),d=g.height();0<g.length&&(g[0].naturalWidth&&(f=g[0].naturalWidth),g[0].naturalHeight&&(d=g[0].naturalHeight));
a.css("cursor","auto");var f=0===f?1:f,d=0===d?1:d,e=Math.min(b/f,c/d),h=d*e,k=f*e;1>e?(Qa?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;f=Math.min(k,f);d=Math.min(h-20,d);g.css({"margin-top":(c-d)/2,"margin-left":(b-f)/2,height:d,width:f});a.css("visibility","visible");Aa=!1}function C(a){var b=v.find("#ivLargeImage");b.css("visibility","hidden");b.empty();h.animateStageIn(b);b.append(a);
y()}function K(){ga&&ga.pause();v.find("#ivLarge360").css("display","none");v.find("#ivLargeVideo").css("display","none");v.find("#ivLargeImage").css("display","none");x()}function N(b){K();v.find("#ivLargeImage").css("display","block");var c;"hero-image"===b?f.isDefined(ka)&&(c=p(ka[O.index])):f.isDefined(la)&&(c=p(la[O.index]));if(f.isDefined(c)){v.find(".fullscreen").remove();var g=a("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),d=v.find("#ivLargeImage");h.animateStageOut(d,function(){g.load(function(){C(g)});
if(g[0].complete)C(g);else{d.empty();var b=(d.height()-104)/2,c=(d.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(d)}})}}function M(){var a=parseInt(O.index,10)+1;a>=ja.length||v.find("#ivVideo_"+a).click()}function Q(){var a;f.isDefined(ja)&&(a=ja[O.index]);if(f.isDefined(a)){K();var b=v.find("#ivLargeVideo").css("display","block");ga?(ga.isDetached()&&ga.attach(b[0]),f.loadMediaIntoAiry(ga,a,wa,B.tabletWeb),ga.show()):
(ga=f.createAiryInstanceForChromeful(b,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ga.bind("ended",M));ga.play({isAsync:!0})}}function L(){U();var a;a="hero-image"===O.type?v.find("#ivHeroImage_"+O.index):"image"===O.type?v.find("#ivImage_"+O.index):"chromeful-video"===O.type||"chromeless-video"===O.type?v.find("#ivVideo_"+O.index):"360-spin"===O.type?v.find("#iv360"):f.isDefined(ka)?v.find("#ivHeroImage_"+O.index):v.find("#ivImage_"+O.index);f.isjQueryObjDefined(a)||(a=v.find("#ivImage_0"));z(a)}
function z(a){v.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(O.type="chromeful-video",O.index=a.attr("id").split("_")[1],Q()):a.hasClass("ivHeroImage")?(O.type="hero-image",O.index=a.attr("id").split("_")[1],N(O.type)):a.hasClass("iv360Image")?(O.type="360-spin",O.index=0,c()):(O.type="image",O.index=a.attr("id").split("_")[1],N(O.type))}function c(){K();v.find("#ivLarge360").css("display","block");H();var a=v.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});
h.animateStageIn(a)},200);A();l.postCountMetric("dppc_click360");ta=Date.now()}function x(){0<ta&&(D("dppc_duration360",Date.now()-ta),ta=0)}function D(a,b){q.ue&&q.ue.count(a,b)}function A(){if(0<qa){var a=v.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function r(b,c){if(qa<b.length){var g=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});g.hide();c.append(g);g.get(0).onload=function(){c.closest(document.documentElement).length&&(qa++,1===
qa&&(A(),0<ta&&D("dppc_loadTime360",Date.now()-ta)),0<Ga&&D("dppc_perSpriteloadTime360",Date.now()-Ga),v.find("#iv360Spinner").hide(),g.show(),xa=5*Y.imageLocations[Math.floor(ya/Y.imageLocations[0].length)][ya%Y.imageLocations[0].length],r(b,c))};g.attr("src",b[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function w(a){if(f.isDefined(Y.spriteWidthSizes)&&0<Y.spriteWidthSizes.length){var b=Y.spriteWidthSizes,c=b.length,g=b[0],d=b[c-1];if(a<=g)return g;if(a>d)return d;for(g=0;g<
c;g++)if(a>b[g]&&a<=b[g+1])return b[g+1]}else return a}function H(){var b=v.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",B.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",
top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ha=!0,R())}function R(){if(f.isDefined(Y.spriteURLs)&&f.isDefined(v)&&Ha&&!Ia){var c=v.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});f.isDefined(Y.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",Y.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(B.staticStrings.dragToSpin).appendTo(d);
d.appendTo(c);var d=Y.imageWidth,e=Y.imageHeight,h=c.parent().width(),k=c.parent().height(),m=0,l=0;d/e>h/k?(ua=w(h),va=Math.round(e/d*ua),na=Math.ceil(h),sa=Math.ceil(va/ua*h),l=(k-sa)/2):(va=w(k),ua=Math.round(d/e*va),sa=Math.ceil(k),na=Math.ceil(ua/va*k),m=(h-na)/2);c.css({"margin-left":m,"margin-top":l,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*na+"px");r(Y.spriteURLs,v.find("#image-360-sprites"),0);d=v.find("#ivLarge360");
d.bind("mousedown",J);d.bind("touchstart",g);d.bind("touchmove",b);d.bind("touchend",t);a(document).bind("mousemove",E);a(document).bind("mouseup",I);f.isDefined(B.staticImages.grab)&&c.css("cursor","url('"+B.staticImages.grab+"'), auto");Ia=!0}}function g(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function b(a){Ba&&(P(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function t(a){Ba&&(Ba=!1)}function J(a){Ca=!0;Ka=a.originalEvent.clientX;f.isDefined(B.staticImages.grabbing)&&
(a=v.find("#ivLarge360"),a.css("cursor","url('"+B.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+B.staticImages.grabbing+"'), auto"));return!1}function E(a){Ca&&(P(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function I(a){Ca&&(Ca=!1,f.isDefined(B.staticImages.grab)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+B.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function P(a){for(a=xa-=a/na*180;0>a;)a+=
360;for(;360<a;)a-=360;xa=a;var b;a=360;for(var c=0;c<qa;c++)for(var g=0;g<Y.imageLocations[c].length;g++){var d=Math.abs(xa-5*Y.imageLocations[c][g]);d<a&&(a=d,b=c*Y.imageLocations[0].length+g)}b!==ya&&(a=Math.floor(b/Y.imageLocations[0].length),a!==Math.floor(ya/Y.imageLocations[0].length)&&(f.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),c=v.find("#image-360-sprites").children(),La.drawImage(c[a],0,0)),a=v.find(".iv360Hint").not(".iv360HintFaded"),f.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));ya=b;a=b%Y.imageLocations[0].length*-1*na;b=-1*Math.floor(b/Y.imageLocations[0].length)*sa;c=v.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");c.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function T(){v.delegate(".ivThumb","click",function(){var b=a(this);z(b)});v.delegate(".ivThumbVideoListOuter","click",function(){v.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
O.type="chromeful-video";O.index=b.attr("id").split("_")[1];Q()})}function S(){ga&&!ga.isDetached()&&(wa.volume=ga.getVolume(),ga.detach(),!document.all||q.atob||document.addEventListener||(ga=null));v.find("#ivLargeImage").empty();x()}function ca(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function Z(b){var c=ra.left-(b.pageX-Da[0])*Ea;e.capabilities.rtl&&(c=ra.left-(a(q).width()-b.pageX-Da[0])*Ea);b=ra.top-(b.pageY-Da[1])*Ea;c=ca(c,Fa.left);b=ca(b,Fa.top);v.find(".fullscreen").css({left:c,top:b})}
function ha(){v.delegate("#ivLargeImage","click",function(a){if(Aa)y();else if(za){v.find(".fullscreen").removeAttr("style");if(za){var b=v.find("#ivLargeImage"),c=b.find(".fullscreen");Qa?b.css("cursor","url('"+B.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Aa=!0;var g=v.find("#ivLargeImage");Fa.left=g.width()-c.width();Fa.top=g.height()-c.height();var g=b.height()/2,d=b.width()/2;Da=[b.offset().left+d,b.offset().top+
g];ra.top=g-c.height()/2;ra.left=d-c.width()/2;c.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(c.height()/b.height(),c.width()/b.width())}Z(a)}});v.delegate("#ivLargeImage","mousemove",function(a){Aa&&Z(a)})}function V(b){if(f.isImmersiveViewEnabled(B,ba.getCurrentItem().color))if(Ma){var c=b.$event.originalEvent;c.acknowledge&&c.acknowledge(b.$currentTarget[0]);Pa=f.isDefined(b)&&"button-360-click"===b.action;d.isEnabled&&m.logImmersiveViewRequestServed(d);l.postCountMetric("dppc_immersiveViewOpened");
if(f.isDefined(W))W.show();else{b=a("#auiImmersiveViewDiv");var c=a(q).height()-150,g=a(q).width()-75;W=Ma.create(b,{name:"immersiveView",activate:"onclick",width:g,height:c,popoverLabel:"ImmersiveView",hideHeader:!0});b.click()}if(Na){v=a("#ivMain");b=ba.getCurrentItem().color;la=B.colorImages[b];ka=B.heroImage[b];ja=B.useChildVideos?B.colorToVideo[b]:B.videos;Oa=X()&&B.spin360ColorEnabled[b];Y=X()?B.spin360ColorData[b]:ea;U();ma=aa=pa=fa=0;f.isDefined(ka)&&(aa=ka.length);f.isDefined(la)&&(fa=la.length);
f.isDefined(ja)&&(pa=ja.length);Oa&&(ma=1);h.populateTitle(v.find("#ivTitle"),45,B);h.populateVariationSelection(v.find("#ivVariationSelection"));b=v.find("#ivMediaSelect");0===fa+ma||0===pa?(b.parent().hide(),v.find("#ivThumbs").addClass("noMediaSelection")):(b.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(B.staticStrings.allMedia+" ("+(aa+fa+ma+pa)+")").appendTo(b),a("\x3coption/\x3e").attr("value","images").text(B.staticStrings.images+" ("+(aa+fa+ma)+")").appendTo(b),
a("\x3coption/\x3e").attr("value","videos").text(B.staticStrings.videos+" ("+pa+")").appendTo(b),b.parent().show(),b.val("all"));b=v.find("#ivThumbs");b.find(".ivRow").not(".placeholder").remove();for(var c=aa+fa+pa+ma,k=g=0;g<c;)for(var t=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b),z=0;3>z&&g<c;z++,g++,k++)if(k<aa){var n=ka[g].thumb,p=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(t);p.find(".ivThumbImage").css("background",
'url("'+h.getResizedThumbnailURL(n)+'") center no-repeat')}else if(k>=aa&&k<fa+aa)n=la[g-aa].thumb,p=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-aa)).appendTo(t),p.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(n)+'") center no-repeat');else if(k>=aa+fa&&k<fa+aa+ma)p=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(t),p.find(".ivThumbImage").css("background",'url("'+
(f.isDefined(B.staticImages.icon360)?h.getResizedThumbnailURL(B.staticImages.icon360,!0):"")+'") center no-repeat');else if(n=ja[g-fa-aa-ma],p=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(g-fa-aa-ma)).appendTo(t),p.find(".ivThumbImage").css("background",'url("'+n.thumbUrl+'") center no-repeat'),f.isDefined(n)){var x={position:"triggerTop"},r=v.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
r.find(".ivVideoPopoverTitle").text(n.title);r.find(".ivVideoPopoverDuration").text(n.durationTimestamp);x.inlineContent=r[0];e.declarative.create(p,"a-tooltip",x)}b=v.find("#ivVideoList");b.find(".ivThumbVideoListOuter").not(".placeholder").remove();c=b.find(".placeholder");for(g=0;g<pa;g++)k=ja[g],t=c.clone().removeClass("placeholder").appendTo(b),t.attr("id","ivVideoList_"+g),t.find(".ivThumbImage").css("background",'url("'+k.thumbUrl+'") center no-repeat'),t.find(".ivThumbTitle").text(k.title),
t.find(".ivThumbDuration").text(k.durationTimestamp);v.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=B.airyConfig;Na=!1;Ra()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}function oa(a){var b=B.colorToAsin[a],c={},g=500;if(b&&b.asin){c.params={asin:b.asin};var d="360"+b.asin,e=Date.now();c.success=function(b){D("dppc_asyncRequestTime360",
Date.now()-e);b&&f.isDefined(b.spin360.spin360Model)?(f.ajaxState(d,"success"),B.spin360ColorData[a]=b.spin360.spin360Model,a===ba.getCurrentItem().color&&(Y=B.spin360ColorData[a],R())):c.error()};c.error=function(){l.postCountMetric("dppc_asyncFailed360");D("dppc_asyncRequestTime360",Date.now()-e);g*=2;16E3>=g?setTimeout(function(){e=Date.now();k.load("/gp/product/features/apparel-main-image/360.html",c)},g):f.ajaxState(d,"fail")};f.ajaxState(d)&&"fail"!==f.ajaxState(d)||(k.load("/gp/product/features/apparel-main-image/360.html",
c),f.ajaxState(d,"sent"))}}function X(){return f.isDefined(B.spin360ConfigEnabled)&&B.spin360ConfigEnabled}var da,B,ba,ia,W,v,ka,la,ja,aa,fa,pa,ma,O,ga,wa,Y,Oa,na,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;u.when("a-modal").execute(function(a){Ma=a});var Ra=e.once(function(){F();T();ha();e.on("a:popover:afterUpdatePosition:immersiveView",G);e.on("a:popover:afterShow:immersiveView",L);
e.on("a:popover:afterHide:immersiveView",S);n()});return function(b,c,g,k){da=this;B=b;ba=c;d.refToModel=ba;ia=k;X()&&(B.spin360ColorData[B.landingAsinColor]=B.spin360ColorData[B.defaultColor],B.spin360ColorEnabled[B.landingAsinColor]=B.spin360ColorEnabled[B.defaultColor]);f.isDefined(B.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",h.addStyleCodeToURL(B.staticImages.icon360,"_FMpng_RI_"));da.render=function(a,b,c,g,d,h){Na=!0;X()&&B.spin360ColorEnabled[a]&&
!f.isDefined(B.spin360ColorData[a])&&(B.spin360ColorData[a]={},oa(a));f.isImmersiveViewEnabled(B,ba.getCurrentItem().color)&&X()&&B.spin360ColorEnabled[a]&&(b===B.maxAlts&&(a=g.find(".item.imageThumbnail"),c=g.find(".item.videoThumbnail"),f.isDefined(c)&&1<c.length?c.last().remove():a.last().remove(),b--),a=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(a,"button-360-click"),g.append(a),b++,l.postCountMetric("dppc_display360"));
return b};da.update=function(a){};f.isImmersiveViewEnabled(B,ba.getCurrentItem().color)||f.addTag("immersiveViewNotAvailable");ia.register("imageClick",V);ia.register("button360Click",V)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(e,a,f,k,l,d,m){function h(){var d=F.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),c=d.find(".a-popover-inner"),
d=d.height()-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");a("#iv-tab-view-container").css("height",d);K=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<K?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),c=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),d-=c):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",d);
e.trigger("dp:image-block:immersive-view:resize")}function p(){e.trigger("dp:image-block:immersive-view:reset")}function n(h){if(f.isImmersiveViewEnabled(G,F.getCurrentItem().color))if(M){var c=h.$event.originalEvent;c.acknowledge&&c.acknowledge(h.$currentTarget[0]);l.isEnabled&&d.logImmersiveViewRequestServed(l);k.postCountMetric("dppc_immersiveViewOpened");f.isDefined(h)&&("button-360-click"===h.action?a("#iv360TabHeading").click():"videoIngressClick"===h.action?(N=h.clickTimeStamp,a("#ivVideosTabHeading").click()):
"showroomIngressClick"===h.action?(N=h.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());c=F.getImmersiveViewModalInstance();if(f.isDefined(c))c.show();else{h=a("#auiImmersiveViewDiv");var c=Math.min(Math.max(a(q).height()-150,540),1080),m=Math.min(Math.max(a(q).width()-75,990),1980),c=M.create(h,{name:"immersiveView",activate:"onclick",width:m,height:c,popoverLabel:"ImmersiveView",hideHeader:!0});F.setImmersiveViewModalInstance(c);h.click()}C&&(C=!1,Q(),e.trigger("dp:image-block:immersive-view:init"))}else q.performance&&
performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else k.postCountMetric("immersiveViewNotExistsClickCount")}var U,G,F,y,C=!0,K=0,N,M;u.when("a-modal").execute(function(a){M=a});var Q=e.once(function(){e.on("a:popover:afterUpdatePosition:immersiveView",h);e.on("a:popover:afterShow:immersiveView",h);e.on("a:popover:afterHide:immersiveView",p)}),L=e.once(function(){var d=a("#iv-tab-view-container ul.iv-tab-views li");d.bind("click",
function(c){var f=d.filter(".iv-active");f.attr("id")!==a(this).attr("id")&&e.trigger("dp:ivTabs:"+f.find("a").attr("data-iv-tab-view")+":deselect",c);d.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();f=a(this).find("a").attr("data-iv-tab-view");a("#"+f).show();"ivVideosTab"===f&&(c.clickTimeStamp=N||c.timeStamp);e.trigger("dp:ivTabs:"+f+":select",c);k.postCountMetric("dppc_"+f);return!1})});return function(a,c,d,e){U=this;G=a;F=c;l.refToModel=
F;y=e;U.render=function(a,c,d,f,e,g){k.postCountMetric("dpcc_altThumbs_"+c);C=!0};U.update=function(a){};U.getTitle=function(){};U.getVariationSelectionInfo=function(){};L();f.isImmersiveViewEnabled(G,F.getCurrentItem().color)||f.addTag("immersiveViewNotAvailable");y.register("imageClick",n);y.register("button360Click",n);f.useTabbedImmersiveView(G)&&(y.register("videoIngressClick",n),y.register("showroomIngressClick",n))}});"use strict";u.when("A").register("ImageBlockLoader",function(e){return{load:function(a,
f){f=f||{};f.timeout=f.timeout||4E3;e.ajax(a,f)}}});"use strict";u.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(e,a,f,k,l,d,m,h,p){function n(a){return null!==a&&"undefined"!==typeof a}function u(c){var b=0;a.each(c,function(a,c){var g=parseInt(c[1],10);g>b&&(b=g)});return b}function G(c){var b=0;a.each(c,function(a,c){var g=parseInt(c[0],10);g>b&&(b=g)});return b}
function F(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=u(a);0<a&&(b=Math.min(b,a));return b}function y(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=G(a);0<a&&(b=Math.min(b,a));return b}function C(c){var b;a.each(c,function(a,c){n(b)||(b=c[1]/c[0])});return b||1}function K(c,b,d,e,h,m,l,n,p,z,x,L,D,w){var y=a.extend({},d.foresterMetadataParams);null!==e&&(y.method+="."+e);var q=[];b.disabledViewIds&&(q=b.disabledViewIds);var G="black";"unrolled-video-add"===w&&(G="transparent");
return f.embed({parentElement:c[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,foresterMetadataParams:y,backgroundColor:G,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===e)A||(A=!0,k.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(r||(r=!0,k.postCountMetric("dppc_chromefulVideoPlayedPV")),!z){var a=
k.buildNexusMetric("ib.thumbnailClick",p,b.mediaObjectId,b.groupType,x,L,D);k.emitNexusMetric(a)}}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,b,c){h&&(N(0,m,n),M(l))}}],disabledViewIds:q})}function N(a,b,c){b.fadeTo(500,0,function(){Q(a,c);b.fadeTo(500,1)})}function M(a){a&&a.toggle()}function Q(c,b){var d=b.find("img");n(d[c])&&a(d[c]).click()}function L(a,b){R[a]=b?b:R[a];return R[a]}function z(c,b,d){d=d||H;d=d.colorImages;if(1>d.length||!n(d[c])||!n(b))return-1;
var f=-1;a.each(d[c],function(a,c){c.variant===b&&(f=a)});return f}function c(c,b,d){d=d||H;d=d.colorImages;return!(n(d)&&n(d[c])&&n(d[c][b])&&n(d[c][b].main))||1>a.map(d[c][b].main,function(a,b){return b}).length?-1:d[c][b]}function x(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function D(c,b){var d;if(d=c.useIV)d=c.colorImages&&c.colorImages[b]&&0<c.colorImages[b].length?!0:!1;m.isEnabled&&(m.IVApplicaple=d,h.logImmersiveViewApplicability(a,
m));return d}var A,r,w,H=a.extend(!0,{},l,d),R={};return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:C,getMaxHeightOfMainImage:y,getMaxWidthOfMainImage:F,getMaxDimensionsOfMainImage:function(a,
b,c){if(c.acEnabled)return[b.height(),b.width()];var d=y(a,b,c);b=F(a,b,c);a=C(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(n(d)){a=d.offsetWidth/b;a=Math.min(a,c);var f;b=H.mainImageHeightPartitions;c=H.mainImageMaxSizes;if(n(c)&&n(b)){for(var e=0,h=q.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)h>b[d]&&(e=d+1);c.length>=e&&(f=c[e])}n(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(c,
b){if(c){b=b||H;var d="";a.each(b.visualDimensions,function(a,b){c[b]&&(d+=" "+c[b])});return d&&d.substring(1)}},createThumbnail:function(a,b,c,d){var f=c.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=b;f.find(".placeHolder").replaceWith(h);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&f.addClass("heroImageThumbnail");n(d)&&f.addClass(d);e.declarative.create(f,"thumb-action",a);f.attr&&(f.attr("data-ux-click",""),a.type&&
a.type.match(/video/)?(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-hover")),f.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(f)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,f,e,h,k){K(a,b,c,d,f,e,h,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:K,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(w={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(w)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?
a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(c){c&&(a("#imageBlock .unvailableVariation").html(c),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:N,toggleVideoCaption:M,
selectThumbnail:Q,spinner:function(c,b){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),c.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));
b?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:L,getIndexForVariant:z,getImageHash:c,lazyLoadingRequired:function(a,b,d){b=Math.max(z(a.color,b.getCurrentItem().variant,d),0);b=-1!==c(a.color,b,d);a=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;a=!a||"success"!==L(a);return!d.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:x,repositionVideoBanner:function(a,
b,c,d){setTimeout(function(){var c=a.width()/a.height();x(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!n(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return n(a)&&n(a[b])&&n(a[b].url)?a[b]:-1},isImmersiveViewEnabled:D,playVideoInImmersiveView:function(a,b){return D(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return n(w)?w.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){q.ue&&q.ue.tag&&q.ue.tag(a)},isShoppableScenesEnabled:function(){return p.isEnabled&&0<a(".mirai-scene-image-block-template").length}}});"use strict";u.when("A",
"jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(e,a,f,k){function l(d,e,c,h){if(!f.isjQueryObjDefined(d.find(".a-button-selected"))){var l=C.getCurrentItem();if(!h||"chromeless-video"!==l.type||!y.autoplayVideo){h=0;if("hero-image"===l.type){h=m(l.color,l.variant);if(-1===h)return;h=-1!==h?h:0}var n=e+h;n>=c&&(h=0,n=e);e=k.getHeroImageHash(y,l.color,h);-1!==e&&(K.dispatch("updateModel",{data:{index:h,thumbnailIndex:n,variant:e.variant,type:"hero-image"}}),
e=d.find(".item").get(n),f.selectGivenThumbnail(a(e),d))}}}function d(d,e,c){if("hero-video"===C.getCurrentItem().type)return d;e=y.heroImage&&y.heroImage[e];var h=d;f.isDefined(e)&&(a.each(e,function(a,c){d<y.maxAlts&&(f.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:c.variant},c.thumb,N,"imageThumbnail"),d++)}),l(N,h,d,c));return d}function m(d,e){var c=y.heroImage;if(1>c.length||!f.isDefined(c[d])||!f.isDefined(e))return-1;var h=-1;a.each(c[d],function(a,c){c.variant===e&&
(h=a)});return h}function h(){if(M.length&&y.repositionHeroImage){var a=k.getHeroDimParams(y,C.getCurrentItem()),d;f.isDefined(a)&&(d=f.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",M.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function p(a,d,c,e){if(M.length&&a&&d){if("function"===typeof c||e){var h=new Image;h.onload=e?function(){M.css("background-image",'url("'+
a+'")')}:c;h.src=a}c=d[1];var h=d[0],m;e||M.css({"background-image":'url("'+a+'")'});y.repositionHeroImage&&(d=k.getHeroDimParams(y,C.getCurrentItem(),d),f.isDefined(d)&&(c=d.width,h=d.height,m=f.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));M.css({"background-position":m,"background-size":c+"px "+h+"px ","max-width":c+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function n(d,f,c,e){d=k.getHeroImageHash(y,d,f);if(-1===d)return-1;f=a.map(d.main,function(a,c){return c})[0];
p(f,d.main[f],c,e)}function q(a,d,c){if("hero-image"!==a.type)return-1;var f=m(a.color,C.getCurrentItem().variant),f=-1!==f?f:0;if(-1===k.getHeroImageHash(y,a.color,f))return-1;var e=C.getCurrentItem();a.thumbnailIndex=e.thumbnailIndex;a.type=e.type;a.variant=e.variant;a.index=f;G(a,d,c)}function G(a,d,c){var f=k.getHeroImageHash(y,a.color,a.index),h;h=a&&Q&&e.equals(a,Q)?!0:!1;Q||(Q=a);if(!h&&a||d)n(a.color,a.index,d,c),Q=a;M.removeClass("hide-background");e.trigger("dp:image-block:update",f)}var u,
y,C,K,N,M,Q={};return function(e,k,c,m){u=this;y=e;C=k;K=m;y.heroImage[y.landingAsinColor]=y.heroImage[y.defaultColor];u.render=function(c,f,e,h,k,m,g){N=h;M=a("#heroImage");c=d(f,c,m);q(C.getCurrentItem(),g,m);return c};u.update=function(a){var c=a.data;"ingress"!==c.type&&M.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=C.getCurrentItem().type,-1!==q(c)&&(a.captured=!0)):"hero-image"===c.type&&(G(c),"click"!==a.type&&y.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,
N))};K.register("resize",h)}});"use strict";u.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(e,a,f){var k,l,d,m;return function(a,p,n,q){k=this;l=a;d=q;k.render=function(a,d,h,n,p,q,u){m=n;k=this;h=l.maxAlts;n=d;p=l.colorImages[a]?l.colorImages[a].length:0;p+=f.getVideosCount(a,l);a=l.heroImage[a];q=0;a&&(q=a.length);a=p+q;a>h&&(h=a-h,a=m.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),h+="+",
n={type:"ingress",index:0,thumbnailIndex:d,variant:""},a.find("#altIngressText").append(h),e.declarative.create(a,"thumb-action",n),m.append(a),n=d++);return n};k.update=function(a){"ingress"===a.data.type&&"click"===a.type&&d.dispatch("imageClick",a)}}});"use strict";u.when("imageBlockUtils").register("ImageBlockState",function(e){return function(a,f,k){this.getImageHash=function(f){var d=k.getCurrentItem();f=e.getIndexForVariant(d.color,f||"MAIN",a);return e.getImageHash(d.color,f,a)};this.onImageUpdateForTwister=
function(a){f.register("updateSelection",function(d){"swatchClick"===d.type&&"function"===typeof a&&a()})}}});"use strict";u.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,a){function f(a,f){var e;if(f.repositionHeroImage){e=a[1];var k=a[0];if(768>=(q.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))e*=.7,k*=.7;else{var l=((q.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,l=Math.max(Math.min(l,1),0);
e*=.7+.3*l;k*=.7+.3*l}e=[e,k]}return e}function k(d,f,e){var k;if(e.repositionHeroImage){var l=q.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e=e.heroFocalPoint;if(a.isDefined(e)){k=Math.max((l-Math.min(1500,d))/2,0);var u=Math.max((l-d)/2,0);k-=u;l=Math.max(Math.min(l,1500),1024);k=k+(l-420-23)/2-d/f[1]*e}}return k}function l(d,f,h){d=d.heroImage;return!(a.isDefined(d)&&a.isDefined(d[f])&&a.isDefined(d[f][h])&&a.isDefined(d[f][h].main))||1>e.map(d[f][h].main,function(a,
d){return d}).length?-1:d[f][h]}return{getHeroImageHash:l,getHeroDimParams:function(d,m,h){if(d.repositionHeroImage){if(!a.isDefined(h)){h=l(d,m.color,m.index);if(-1===h)return;m=e.map(h.main,function(a,d){return d})[0];h=h.main[m]}m=f(h,d);d=k(m[0],h,d);return{height:m[1],width:m[0],xPos:d,yPos:75}}}}});"use strict";u.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(e){function a(){this.render=function(){};this.update=function(){}}return function(f,k,l,d){var m=!1,h=new a;u.now("showroom-image-block-view").execute("showroom-image-block-view-decider",
function(a){a!==ea&&(m=!0,h=new a(f,k,l,d))});f&&!0===f.showroomEnabled&&!1===m&&e.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return h}});"use strict";u.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,a,f){function k(a,k){var h=e.copy(a);if(f.isDefined(a)&&a.length>k){try{for(var l=-1,n=0;n<a.length;n++){var q=a.charAt(n);if(" "===q||"."===q||"?"===q||";"===q||","===q||":"===q)l=n;if(n===k-4){h=a.substring(0,-1===l?n:l);break}}}catch(u){h=
a.substring(0,k-3)}h+="..."}return h}function l(a,f){var e=a.lastIndexOf(".");return a="_"===a.charAt(e-1)?a.substring(0,e-1)+f+a.substring(e):a.substring(0,e)+"."+f+a.substring(e)}return{getDimension:function(a,f){var e=parseInt(a.css(f),10);return isNaN(e)?0:e},attachTabSelectHandler:function(a,f){e.on("dp:ivTabs:"+a+":select",f)},attachTabDeselectHandler:function(a,f){e.on("dp:ivTabs:"+a+":deselect",f)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},
detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(d){a("#"+d).hide()},unhideTabHeading:function(d){a("#"+d).show()},addStyleCodeToURL:l,getResizedThumbnailURL:function(a,f){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,
"");var e="_AA50_";f&&(e+="FMpng_RI_");return l(a,e)},populateVariationSelection:function(d){if(f.isDefined(q.DetailPage)&&f.isDefined(q.DetailPage.StateController)){d.empty();var e=q.DetailPage.StateController.getState(),h=e.variation_label_order,k;for(k in h)if(h.hasOwnProperty(k)){var l=h[k],u=e.selected_variations[l],l=e.variation_display_labels[l];u&&a("\x3cdiv/\x3e").addClass("ivVariations").text(l+":"+u).appendTo(d)}}},populateTitle:function(a,f,e){a.html(e.title);a.attr("title",a.text());
a.html(k(e.title,f))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,f){a.animate({opacity:.4},100,f)},logError:function(a,f,e,k){q.ueLogError&&q.ueLogError(k,{logLevel:a,attribution:f,message:e})}}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(e,a,f,k,l){function d(){l.populateTitle(c.find("#ivTitle"),160,L)}function m(){var a=z.getCurrentItem().color;D=L.colorImages[a];
x=L.heroImage[a];A=r=0;f.isDefined(x)&&(A=x.length);f.isDefined(D)&&(r=D.length)}function h(a){return a.hiRes||a.large||a.main[a.main.length-1]}function p(){var a=c.find("#ivStage").find("#ivLargeImage"),d=a.width(),f=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var h=e.width(),k=e.height();0<e.length&&(e[0].naturalWidth&&(h=e[0].naturalWidth),e[0].naturalHeight&&(k=e[0].naturalHeight));a.css("cursor","auto");var h=0===h?1:h,k=0===k?1:k,l=Math.min(d/h,f/k),m=k*l,n=h*l;1>l?(H?a.css("cursor",
"url('"+L.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),b=!0):b=!1;h=Math.min(n,h);k=Math.min(m-20,k);e.css({"margin-top":(f-k)/2,"margin-left":(d-h)/2,height:k,width:h});a.css("visibility","visible");g=!1}function n(a){var b=c.find("#ivLargeImage");b.css("visibility","hidden");b.empty();l.animateStageIn(b);b.append(a);p()}function q(b){c.find("#ivLargeImage").css("display","none");c.find("#ivLargeImage").css("display",
"block");var d;"hero-image"===b?f.isDefined(x)&&(d=h(x[w.index])):f.isDefined(D)&&(d=h(D[w.index]));if(f.isDefined(d)){c.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),g=c.find("#ivLargeImage");l.animateStageOut(g,function(){e.load(function(){n(e)});if(e[0].complete)n(e);else{g.empty();var b=(g.height()-104)/2,c=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",L.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(g)}})}}function u(a){c.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivHeroImage")?w.type="hero-image":w.type="image";w.index=a.attr("id").split("_")[1];q(w.type);k.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(w.index,10)+1)+"_"+(A+r))}function F(){c.delegate(".ivThumb","click",function(){var b=a(this);u(b)})}function y(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function C(a){var b=J.top-(a.pageY-I[1])*E;a=y(J.left-(a.pageX-I[0])*E,t.left);b=y(b,t.top);c.find(".fullscreen").css({left:a,top:b})}function K(){c.delegate("#ivLargeImage",
"click",function(a){if(g)p();else if(b){c.find(".fullscreen").removeAttr("style");if(b){var d=c.find("#ivLargeImage"),f=d.find(".fullscreen");H?d.css("cursor","url('"+L.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));g=!0;var e=c.find("#ivLargeImage");t.left=e.width()-f.width();t.top=e.height()-f.height();var e=d.height()/2,h=d.width()/2;I=[d.offset().left+h,d.offset().top+e];J.top=e-f.height()/2;J.left=h-f.width()/2;
f.css({position:"relative",left:J.left,top:J.top});E=Math.max(f.height()/d.height(),f.width()/d.width())}C(a);k.postCountMetric("dpcc_iv_largeImageCLick")}});c.delegate("#ivLargeImage","mousemove",function(a){g&&C(a)})}function N(){c.find("#ivLargeImage").empty()}function M(b){if(R){c=a("#ivMain");m();w=z.getCurrentItem();d();l.populateVariationSelection(c.find("#ivVariationSelection"));b=c.find("#ivThumbs");b.find(".ivRow").not(".placeholder").remove();for(var e=A+r,g=0,h=0;g<e;)for(var k=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b),
n=0;4>n&&g<e;n++,g++,h++)if(h<A){var p=x[g].thumb,t=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+g,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":g+1}).appendTo(k);t.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(p)+'") center no-repeat')}else h>=A&&h<r+A&&(p=D[g-A].thumb,t=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+
(g-A),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":g-A+1}).appendTo(k),t.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(p)+'") center no-repeat'));P();R=!1}else d();b=a("#ivImagesTab").height();c.css("height",b);e=c.find("#ivTitle").outerHeight(!0);g=c.find("#ivVariationSelection").outerHeight(!0);h=c.find("#ivThumbs");k=l.getDimension(h,"margin-top")+l.getDimension(h,"margin-bottom");
h.css("height",b-e-g-k);c.find("#ivLargeImage").css("height",b);b=c.find("#ivStage");e=c[0]&&c[0].getBoundingClientRect&&Math.floor(c[0].getBoundingClientRect().width)||c.width();b.css("width",e-l.getDimension(c,"padding-left")-l.getDimension(c,"padding-right")-c.find("#ivThumbColumn").width()-l.getDimension(b,"margin-left")-l.getDimension(b,"margin-right"));w=z.getCurrentItem();b="hero-image"===w.type?c.find("#ivHeroImage_"+w.index):"image"===w.type?c.find("#ivImage_"+w.index):f.isDefined(x)?c.find("#ivHeroImage_"+
w.index):c.find("#ivImage_"+w.index);f.isjQueryObjDefined(b)||(b=c.find("#ivImage_0"));u(b)}var Q,L,z,c,x,D,A,r,w,H=navigator.userAgent.match(/msie|trident/i),R=!0,g=!1,b=!1,t={},J={},E,I,R=!0,P=e.once(function(){F();K();l.attachImmersiveViewResizeHandler(M);l.attachTabDeselectHandler("ivImagesTab",N)});return function(b,c,d,f){Q=this;L=b;z=c;Q.render=function(b,c,d,f,e,g){R=!0;m();0===A+r?l.hideTabHeading("ivImagesTabHeading"):l.unhideTabHeading("ivImagesTabHeading");1===A+r?a("#ivThumbs").hide():
a("#ivThumbs").show()};Q.update=function(a){};l.attachTabSelectHandler("ivImagesTab",M)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(e,a,f,k,l,d,m){function h(){A.delegate(".ivThumb","click",function(){var b=a(this);A.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(r.type="chromeful-video",r.index=b.attr("id").split("_")[1])})}
function p(){if(V){var b=a("#ivVideosTab").height();A.css("height",b);var c=A.find(".vse-lb-container");w=b-l.getDimension(c,"padding-top")-l.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(S){A.css({"max-width":Math.floor(1.77*w)});return}var b=A.find(".vse-player-container"),c=A.find(".vse-video-action-strip"),d=A.find(".vse-lb-video-metadata"),f=Math.floor(w-l.getDimension(d,"height")-l.getDimension(c,"height")),e=Math.floor(1.77*f);b.css({"max-height":f,"max-width":e,
marginLeft:"auto",marginRight:"auto"});d.css({"max-width":e,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":e,marginLeft:"auto",marginRight:"auto"})}ca&&(b=A.find(".vse-vertical-scroll"),c=l.getDimension(b,"margin-top")+l.getDimension(b,"margin-bottom"),b.css("max-height",w-c))}function n(){u();H&&H.pause();Z=!1;P=!0;t=null;ha=!0;V=!1}function u(){Z=!1;H&&H.pause()}function G(b){t=b.clickTimeStamp?b.clickTimeStamp:e.now();f.isDefined(D)&&(D.eventTimestamp=t);Z=!0;T&&(m.get(e,"#ivVideoBlock",
x,W,v),A=a("#ivVideoBlock"),c.getCurrentItem(),r=c.getCurrentItem(),B(),M());p();T=!1;C()}function F(b){T&&(A=a("#ivVideoBlock"),c.getCurrentItem(),r=c.getCurrentItem(),B());Z&&C();p()}function y(a){H=a.player;k.postTimeMetric("vse_ib_desktop_player_initialisation_duration",e.now()-da);z.imageBlockRenderingStartTime&&k.postTimeMetric("vse_ib_desktop_time_to_player_interactive",e.now()-z.imageBlockRenderingStartTime);V&&(M(),C())}function C(){if(H&&Z&&(A.find(".vse-lb-container").animate({opacity:1},
200),H.play(D),k.postCountMetric("dpcc_vse_videoBlock_video_played"),P)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,k.postTimeMetric("dpcc_vse_vitff",a),P=!1)}}function K(){e.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function N(a){R=a.popover.$popover;V=!0;M()}function M(){if(V&&ha&&Z&&H){R.addClass(e.$(R).find(".vse-lb-container").data("cssClass"));var a=D;ea&&(a=X,ea=!1);e.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",
assetSpec:a});p();ha=!1}}function Q(a){document.getElementsByClassName("videoBlockIngress")[0].click();X=a;ea=!0}var L,z,c,x,D,A,r,w,H,R,g,b,t,J,E,I,P=!0,T=!0,S=!1,ca=!1,Z=!1,ha=!0,V=!1,ea=!1,X,da=0,B=e.once(function(){h();l.attachImmersiveViewResizeHandler(F);l.attachTabDeselectHandler("ivVideosTab",u);l.attachImmersiveViewResetHandler(n)}),ba=function(b,d,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");k.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);b=c.getCurrentItem().color;
b=f.getVideoHash(b,0,z);H||(H=f.createAiryInstanceForChromeful(a("#ivVideoBlock"),b,z.airyConfig,"ImmersiveView"));S=!0;a("#ivVideoBlock").css({"max-width":1.77*w,margin:"0 auto"});Z&&S&&H.play({isAsync:!0})},ia=function(b,c,d){T||m.get(b,"#ivVideoBlock",x,W,v);a("#ivVideoBlockSpinner").addClass("aok-hidden")},W=function(a,b,c){ca=!0;p()},v=function(a,b,c){k.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,h,k,m){L=this;z=
a;c=h;L.render=function(a,h,k,m,n,p){a=c.getCurrentItem().color;h=f.getVideoHash(a,0,z);!0===p?g=z.mediaAsin:(g=z.colorToAsin[a]&&z.colorToAsin[a].asin,g=f.isDefined(g)?g:z.mediaAsin);b=null!==z.vseVideoDataSourceTreatment&&"T1"===z.vseVideoDataSourceTreatment?"ASIN":"physicalID";J=z.contentWeblab;E=z.contentWeblabTreatment;I=z.parentAsin||"";T=!0;-1===h?l.hideTabHeading("ivVideosTabHeading"):(l.unhideTabHeading("ivVideosTabHeading"),x={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:h.marketPlaceID,
locale:h.languageCode,product:{contentID:g,contentIDType:"ASIN",parentContentID:I,parentContentIDType:"ASIN"},video:{contentID:h.mediaObjectId,contentIDType:b,videoURL:h.url,imageURL:h.slateUrl},requestId:z.dpRequestId,weblabContext:[{name:J,assignment:E,ignoreForG2S2Key:!0}],metadata:{ProductTitle:z.title}},D={videoUrl:x.video.videoURL,contentId:x.video.contentID,duration:0,vendorCode:"",eventTimestamp:f.isDefined(t)?t:e.now(),imageUrl:x.video.imageURL,productAsin:x.product.contentID,index:0},f.isDefinedAndNotEmpty(H)&&
(H.destroy(),H=null),da=e.now(),d.get(e,"#ivVideoBlock",x,ia,ba))};L.update=function(a){};l.attachTabSelectHandler("ivVideosTab",G);e.on("vsePlayer-detailpage-imageblock",y);e.on("a:popover:afterShow:immersiveView",N);e.on("a:popover:beforeHide:immersiveView",K);e.on("detailpage-imageblock-leave-pip",Q)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(e,a,f,k,l,d,m,h,p){function n(){var b=a("#iv360Tab").height();E.css("height",b);var c=E.find("#ivTitle360").outerHeight(!0),d=E.find("#ivVariationSelection360").outerHeight(!0),f=E.find("#ivThumbs360"),e=m.getDimension(f,"margin-top")+m.getDimension(f,"margin-bottom");f.css("height",b-c-d-e);b=E.find("#ivStage360");c=E[0]&&E[0].getBoundingClientRect&&Math.floor(E[0].getBoundingClientRect().width)||E.width();b.css("width",c-m.getDimension(E,"padding-left")-m.getDimension(E,"padding-right")-
E.find("#ivThumbColumn360").width()-m.getDimension(b,"margin-left")-m.getDimension(b,"margin-right"))}function q(){C();var a=E.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});m.animateStageIn(a)},200);u()}function u(){if(0<v){var a=E.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function F(c,f){if(v<c.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*P+"px",height:T+"px"});e.hide();f.append(e);e.get(0).onload=function(){f.closest(document.documentElement).length&&
(v++,1===v&&(u(),0<B&&(l.time("dppc_loadTime360",Date.now()-B,b.mediaAsin),d.postTimeMetric("dppc_loadTime360",Date.now()-B))),0<ba&&(l.time("dppc_perSpriteloadTime360",Date.now()-ba,b.mediaAsin),d.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ba)),E.find("#iv360Spinner").hide(),e.show(),X=5*I.imageLocations[Math.floor(da/I.imageLocations[0].length)][da%I.imageLocations[0].length],F(c,f))};e.attr("src",c[v].replace(/(\._SP)\d+(,)\d+/,"$1"+ca+"$2"+S));ba=Date.now()}}function y(a){if(f.isDefined(I.spriteWidthSizes)&&
0<I.spriteWidthSizes.length){var b=I.spriteWidthSizes,c=b.length,d=b[0],e=b[c-1];if(a<=d)return d;if(a>e)return e;for(d=0;d<c;d++)if(a>b[d]&&a<=b[d+1])return b[d+1]}else return a}function C(){var c=E.find("#ivLarge360");c.children("#image-360-sprites").length||(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),height:c.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",b.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),V=!0,K())}function K(){if(f.isDefined(I.spriteURLs)&&f.isDefined(E)&&V&&!oa){var d=E.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});f.isDefined(I.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",I.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(b.staticStrings.dragToSpin).appendTo(e);e.appendTo(d);var e=I.imageWidth,g=I.imageHeight,h=d.parent().width(),k=d.parent().height(),l=0,m=0;e/g>h/k?(ca=y(h),S=Math.round(g/e*ca),P=Math.ceil(h),T=Math.ceil(S/ca*h),m=(k-T)/2):(S=y(k),ca=Math.round(e/g*S),T=Math.ceil(k),P=Math.ceil(ca/S*k),l=(h-P)/2);d.css({"margin-left":l,"margin-top":m,width:P+"px",height:T+"px",
overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*P+"px");F(I.spriteURLs,E.find("#image-360-sprites"),0);e=E.find("#ivLarge360");e.bind("mousedown",L);e.bind("touchstart",N);e.bind("touchmove",M);e.bind("touchend",Q);a(document).bind("mousemove",z);a(document).bind("mouseup",c);f.isDefined(b.staticImages.grab)&&d.css("cursor","url('"+b.staticImages.grab+"'), auto");oa=!0}}function N(a){W=!0;ha=a.originalEvent.targetTouches[0].clientX}function M(a){W&&(x(a.originalEvent.targetTouches[0].clientX-
ha),ha=a.originalEvent.targetTouches[0].clientX)}function Q(a){W&&(W=!1)}function L(a){ia=!0;Z=a.originalEvent.clientX;f.isDefined(b.staticImages.grabbing)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+b.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+b.staticImages.grabbing+"'), auto"));return!1}function z(a){ia&&(x(a.originalEvent.clientX-Z),Z=a.originalEvent.clientX)}function c(a){ia&&(ia=!1,f.isDefined(b.staticImages.grab)&&(a=E.find("#ivLarge360"),
a.css("cursor","url('"+b.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function x(a){X-=a/P*180;la&&(l.count("dppc_360dragToSpin",b.mediaAsin),d.postCountMetric("dppc_360dragToSpin"));la=!1;for(a=X;0>a;)a+=360;for(;360<a;)a-=360;X=a;var c;a=360;for(var e=0;e<v;e++)for(var g=0;g<I.imageLocations[e].length;g++){var h=Math.abs(X-5*I.imageLocations[e][g]);h<a&&(a=h,c=e*I.imageLocations[0].length+g)}c!==da&&(a=Math.floor(c/I.imageLocations[0].length),a!==Math.floor(da/
I.imageLocations[0].length)&&(f.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),e=E.find("#image-360-sprites").children(),ka.drawImage(e[a],0,0)),a=E.find(".iv360Hint").not(".iv360HintFaded"),f.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));da=c;a=c%I.imageLocations[0].length*-1*P;c=-1*Math.floor(c/I.imageLocations[0].length)*T;e=E.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");e.css("transform",
"translate3d("+a+"px, "+c+"px, 0)")}function D(){if(aa){E=a("#ivMain360");var c=t.getCurrentItem().color;r()&&w(c);I=r()?b.spin360ColorData[c]:ea;m.populateTitle(E.find("#ivTitle360"),160,b);m.populateVariationSelection(E.find("#ivVariationSelection360"));E.find("#ivLarge360").empty();v=0;oa=V=!1;da=X=0;fa();aa=!1}0!==a("#iv360Tab").height()&&(m.detachImmersiveViewResizeHandler(D),n(),q(),B=Date.now(),ja=la=!0,l.count("dppc_click360",b.mediaAsin),d.postCountMetric("dppc_click360"))}function A(a,c,
e){a=b.colorToAsin[e];var g={},m=500;if(!a||!a.asin)if(e===b.defaultColor)a={asin:b.winningAsin};else return;g.params={asin:a.asin};var n="360"+a.asin,p=Date.now();g.success=function(a){l.time("dppc_asyncRequestTime360",Date.now()-p,b.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);a&&f.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&h.setData(a),f.ajaxState(n,"success")):g.error()};g.error=function(){l.count("dppc_asyncFailedTransient360",b.mediaAsin);d.postCountMetric("dppc_asyncFailedTransient360");
l.time("dppc_asyncRequestTime360",Date.now()-p,b.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);m*=2;16E3>=m?setTimeout(function(){p=Date.now();k.load("/gp/product/features/apparel-main-image/360.html",g)},m):(l.count("dppc_asyncFailed360",b.mediaAsin),d.postCountMetric("dppc_asyncFailed360"),f.ajaxState(n,"fail"))};f.ajaxState(n)&&"fail"!==f.ajaxState(n)||(k.load("/gp/product/features/apparel-main-image/360.html",g),f.ajaxState(n,"sent"))}function r(){return b&&f.isDefined(b.spin360ConfigEnabled)&&
b.spin360ConfigEnabled}function w(a){return f.isDefinedAndNotEmpty(b.spin360ColorData[a])?!0:f.isDefined(b.spin360LazyLoadEnabled)&&b.spin360LazyLoadEnabled}function H(){ja&&(l.time("dppc_duration360",Date.now()-B,b.mediaAsin),d.postTimeMetric("dppc_duration360",Date.now()-B),ja=!1)}function R(a){a=b.colorToAsin[a.color]&&b.colorToAsin[a.color].asin;a||(a=b.mediaAsin);return a}var g,b,t,J,E,I,P,T,S,ca,Z,ha,V=!1,oa=!1,X=0,da=0,B=0,ba=0,ia=!1,W=!1,v=0,ka,la=!0,ja=!1,aa=!0,fa=e.once(function(){m.attachImmersiveViewResizeHandler(D);
m.attachImmersiveViewResizeHandler(n);m.attachImmersiveViewResetHandler(H);m.attachTabDeselectHandler("iv360Tab",H)});return function(c,k,n,q){g=this;b=c;t=k;J=q;c=b.landingAsinColor;k=b.defaultColor;f.isDefined(b.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",m.addStyleCodeToURL(b.staticImages.icon360,"_FMpng_RI_"));r()&&(b.spin360ColorData||(b.spin360ColorData={}),c===k&&f.isDefinedAndEmpty(b.spin360ColorData[k])&&delete b.spin360ColorData[k]);
e.on(p.TWISTER_DATA_EVENT,function(a){R(t.getCurrentItem())===a&&(I=h.getData(a),K(),a={type:"updatedData",data:t.getCurrentItem()},J.dispatch("updateView",a))});g.render=function(c,g,k,n,p,q){aa=!0;!r()||f.isDefinedAndEmpty(b.spin360ColorData[c])&&!h.getData(R(t.getCurrentItem()))?m.hideTabHeading("iv360TabHeading"):(b.spin360ColorData[c]=h.getData(R(t.getCurrentItem())),f.isDefinedAndNotEmpty(b.spin360ColorData[c])?(a("#ivThumbs360").hide(),m.unhideTabHeading("iv360TabHeading"),f.isImmersiveViewEnabled(b,
t.getCurrentItem().color)&&r()&&w(c)&&(g===b.maxAlts&&(c=n.find(".item.imageThumbnail"),g=n.find(".item.videoThumbnail"),f.isDefined(g)&&1<g.length?g.last().remove():c.last().remove()),c=n.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(c,"button-360-click"),n.append(c),l.count("dppc_display360",b.mediaAsin),d.postCountMetric("dppc_display360"))):f.isDefined(b.spin360LazyLoadEnabled)&&b.spin360LazyLoadEnabled?(b.spin360ColorData[c]=
{},m.hideTabHeading("iv360TabHeading"),A(n,g,c)):m.hideTabHeading("iv360TabHeading"))};g.update=function(a){};m.attachTabSelectHandler("iv360Tab",D)}});u.register("nexusLogger360",function(){return{count:function(e,a){q.ue&&q.ue.event({asin:a,metricName:e,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(e,a,f){q.ue&&q.ue.event({asin:f,metricName:e,metricValue:a},"hit-360","hit360.clientEvent.3")}}});u.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
u.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(e,a){var f={};return{setData:function(k){var l=k.asin;f[l]||(f[l]=k,e.trigger(a.TWISTER_DATA_EVENT,l))},getData:function(a){return f[a]}}});"use strict";u.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,a){u.register("vse_ns_preLoaderHook",function(){function f(k,l){try{var d=k.A,m=k.block,h=k.request,p=k.handleFailure,n=k.handleSuccess,q=d.$;l--;var u=3-l-1,F=d.now();d.ajax("/vap/ew/componentbuilder",
{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var f=d.now()-F;e.postTimeMetric("vse_preLoaderHook:success:",f);e.postCountMetric("vse_preLoaderHook:success:"+h.page+":"+h.placement+":"+u);q(m).html(a);n(d,h,a)},error:function(a){e.postCountMetric("vse_preLoaderHook:error:"+h.page+":"+h.placement+":"+u);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<l?f(k,l):(e.postCountMetric("vse_preLoaderHook:error:",
1),p(d,h,a))}})}catch(y){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",y)}}return{get:function(a,e,d,m,h){f({A:a,block:e,request:d,handleFailure:h,handleSuccess:m},3)}}});u.register("vse_ns_lazyLoaderHook",function(){function f(k,l,d){try{var m=k.A,h=k.context,p=k.handleFailure,n=k.handleSuccess;l.attr("data-configuration");var q=atob(l.attr("data-configuration")),u=JSON.parse(q),F={pageContext:h,configuration:u},y=m.now();d--;var C=3-d-1;m.ajax("/vap/ew/subcomponent/"+u.type,{params:F,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var d=m.now()-y;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+h.page+":"+h.placement+":"+u.type+":"+C);l.html(a);n(m,F,a)},error:function(a){e.postCountMetric("vse_lazyLoaderHook:error:"+h.page+":"+h.placement+":"+u.type+":"+C);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?f(k,l,d):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),p(m,F,a))}})}catch(K){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",K)}}return{get:function(a,e,d,m,h){var p=a.$;p(e+" div[data-configuration]").each(function(){f({A:a,context:d,handleFailure:h,handleSuccess:m},p(this),3)})}}});u.register("vse_ns_videoPlayer",function(){function f(k,l,d){try{var m=k.A,h=k.block,p=k.request,n=k.handleFailure,q=k.handleSuccess,u=m.$;d--;var F=3-d-1,y=m.now();m.ajax("/vap/ew/subcomponent/vseplayer",{params:p,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:p.timeout||5E3,withCredentials:!0,success:function(a){var d=m.now()-y;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+p.page+":"+p.placement+":"+F);u(h).html(a);q(m,p,a)},error:function(a){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+p.page+":"+p.placement+":"+F);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?f(k,d):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),n(m,p,a))}})}catch(C){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",C)}}return{get:function(a,e,d,m,h){f({A:a,block:e,request:d,handleFailure:h,handleSuccess:m},3)}}})});"use strict";u.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(e,a,f,k,l){var d=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=f.colorImages,e=0,p;for(p in a)a[p]&&a[p].length&&(e+=a[p].length);a="image_size_bucket:gt"+d[d.length-1];for(p=1;p<d.length;p++)if(e<=
d[p]){a="image_size_bucket:"+d[p-1]+"-"+d[p];break}l.postCountMetric(a);k.addTag(a)})();(function(){var d=a.colorImages;d&&d.initial&&d.initial.length&&(d=d.initial.length,q.ue&&ue.count&&ue.count("altImageCount",d))})();(function(){var a=f.lazyLoadExperienceDisabled;k.isDefined(f.lazyLoadExperienceDisabled)&&!a&&(l.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),k.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});u.when("A","get-resource-time","postMetric","afterLoad").execute(function(e,
a,f){var k=e.state("desktop-landing-image-data");k&&(k=e.values(k),a=a.getResourceTimeByName("img",k),e.each(a,function(a){a&&(a.responseEnd!=ea&&f.postCountMetric("ibDesktopLandingImageDownloadTime",q.parseInt(a.responseEnd)),a.transferSize!=ea&&(0===a.transferSize?f.postCountMetric("ibDesktopLandingImageCached",1):(f.postCountMetric("ibDesktopLandingImageSizeInBytes",q.parseInt(a.transferSize)),f.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",
function(e,a,f,k){function l(d,e){var f=a("\x3cimg src\x3d'"+(e?y.staticImages.shoppableSceneDotHighlighted:y.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:e?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(e?"active-tag":"inactive-tag");return f}function d(d){var f=a("\x3cspan\x3e");e.each(d.tags,function(d){var h=a("\x3cdiv\x3e").css({position:"absolute",left:100*d.left+"%",top:100*d.top+"%",height:"auto",width:"auto"});h.append(l(d,!1));h.append(l(d,!0));h.bind("mouseenter",
function(){m(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});e.declarative.create(h,"scenes-show-details-tags-ib",{tagId:d.link});f.append(h)});return f.children()}function m(a){a.addClass("mirai-scene-dot-pulsate");e.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function h(a,d){a.css({display:"none"});d.css({display:"inline-block"})}function p(a,d,e){a.eq(e).css({display:"inline-block"});d.eq(e).css({display:"none"})}function n(a){u.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",
function(){e.trigger("mirai:scene-details-change",{physicalId:a})})}function q(){var d=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),e=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",y.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),f=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");f.html(y.staticStrings.shoppableSceneViewProductsButton);return d.append(e).append(f)[0].outerHTML}function G(a){function f(){a.$tagPlaceholder.replaceWith(n);
var c=n.find(".mirai-scene-tag.active-tag"),d=n.find(".mirai-scene-tag.inactive-tag");p(c,d,0);m(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));K=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});D=!0;k.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var l=a.$viewProductsButton.find(".a-button-text");if(0===l.children().length){l.append(q());e.declarative.create(a.$viewProductsButton,
"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var n=d(a.shoppableScene),z=n.find(".mirai-scene-tag.active-tag"),c=n.find(".mirai-scene-tag.inactive-tag"),x=a.shoppableScene.physicalId,D=!1;e.on("mirai:index:change",function(a){a.scenePhysicalId===x&&(a=a.selectedIndices[0],h(z,c),p(z,c,a),m(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),K=!0)});e.on("mirai:scene-details-change",function(a){a.physicalId!==x||K||(h(z,c),p(z,c,0),m(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
K=!0)});e.on("mirai:no-products-active",function(a){a.scenePhysicalId===x&&h(z,c)});e.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===x&&(h(z,c),p(z,c,0))});e.on("a:image:load:shoppable-scene:"+a.index,function(){D||(f(),k.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});e.on("shoppable-scene-image-loaded",function(c){c.index!=a.index||D||(f(),k.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});u.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){e.trigger("mirai:scene-side-sheet-init",{icons:y.staticImages,strings:y.staticStrings});e.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var F,y,C,K=!1;return function(a,d,e,h){F=this;y=a;C=h;f.isShoppableScenesEnabled()?(C.register("initialize-shoppable-scene",G),F.render=function(a,c,d,e,f,h,k){},F.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?n(a.data.shoppableScene.physicalId):K=!1)}):(a=function(){},F.render=a,F.update=
a)}});u.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(l){var f=window.AmazonUIPageJS||window.P,m=f._namespace||f.attributeErrors,c=m?m("DetailPageShowroomImageBlockAssets",""):f;c.guardFatal?c.guardFatal(l)(c,window):c.execute(function(){l(c,window)})})(function(l,f,m){l.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(c,q,g,h,k,a){function d(a){a=u.colorToAsin[a.color].asin;
a||(a=u.mediaAsin);return a}var f=void 0,u=void 0,n=void 0,r=void 0,l=void 0,p=void 0,e=void 0;return function(b,t,m,w){m=new Date;f=this;u=b;n=t;r=w;c.on(k.TWISTER_DATA_EVENT,function(a){d(n.getCurrentItem())===a&&(a={type:"updatedData",data:n.getCurrentItem()},r.dispatch("updateView",a))});f.render=function(q,b,f,k,m,w){q=new Date;l=k;p=m.find("#main-showroom-container");p.parent().find("#showroom-canvas-caption");c.$("#main-image-container");try{var v=d(n.getCurrentItem());if(g.isDataValidForAsin(v)){var z=
new Date,t=g.getDataForAsin(v);h.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-z);if(!w){var x=new Date;h.updateMainImage(p,t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-x)}var y=new Date;b=h.createThumbnail(u,k,b,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-y);var A=new Date;c.$("#ivShowroomTabHeading").removeClass("aok-hidden");
a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-A);if(v!==e){var B=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=a.createShowroomAtfEvent(t.defaultStageId,v,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);e=v;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-B)}}else c.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){c.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,
new Date-q);return b};f.update=function(b){var c=new Date;try{var e=b.data;n.setCurrentEvent(b);if(e.type===k.SHOWROOM_THUMBNAIL_TYPE){var f=new Date;e.interaction=b.type;e.isUserGenerated=!0;if(g.isDataValidForAsin(d(e))){"mouseenter"===e.interaction&&e.type===k.SHOWROOM_THUMBNAIL_TYPE&&h.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER);var t=g.getDataForAsin(d(e)).imageData;h.updateMainImage(p,t,r);h.showShowroomMainImage(p)}u.usePeekHover&&"click"!==b.type||
(q.selectGivenThumbnail(b.$declarativeParent,l),"click"===b.type&&q.useTabbedImmersiveView(u)&&h.handleShowroomThumbnailClick(b));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-f)}else e.type!==k.SHOWROOM_MAIN_IMAGE_TYPE&&("swatchHover"===b.type?e.color===n.getCurrentItem().color&&n.getCurrentItem().type===k.SHOWROOM_THUMBNAIL_TYPE?h.showShowroomMainImage(p):h.hideShowroomMainImage(p):h.hideShowroomMainImage(p))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,
new Date-c)};(b=document.getElementById("ivShowroomTabHeading"))&&b.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=g.getDataForAsin(e).defaultStageId;b=a.createShowroomAtfEvent(b,e,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-m)}});"use strict";l.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",
TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";l.when("A","jQuery","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",
function(c,q,f,h,k,a){function d(p){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var e=a.createShowroomAtfEvent(r,l,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(e);g(p)}function g(a){a.action="showroomIngressClick";a.data=m;n.dispatch("showroomIngressClick",a)}var l,n,r,m;return{createThumbnail:function(a,e,b,d){b===a.maxAlts&&(e.find(".item.imageThumbnail").last().remove(),b--);m={type:"showroomIngress",index:0,thumbnailIndex:b,variant:d.variant};
f.createThumbnail({type:k.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:b,variant:d.variant},d.thumb,e,"showroom-imageblock-thumbnail");b++;return b},updateMainImage:function(a,e){var b=a.find("#showroom-main-image");b.length?b.attr("src",e.hiRes):(b=q(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+e.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),b.appendTo(a),c.declarative.create(a,"showroom-image-action",m),c.declarative("showroom-image-action",
["click"],d),b.addClass("image-gradient-hue"),e=h.getStringValue(k.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),b=h.getStringValue(k.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),q(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+e+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
b+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return q("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:g,handleShowroomThumbnailClick:function(d){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var e=a.createShowroomAtfEvent(r,l,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(e);g(d)},handleShowroomMainImageClick:d,refresh:function(a,d,b){n=a;l=d;r=b}}});"use strict";l.when("A").register("showroom-image-block-metrics",function(c){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(c){try{if(f.ue&&c){var g=(f.ue.count(c)||0)+1;f.ue.count(c,g)}}catch(h){}},logValue:function(c,
g){try{f.ue&&c&&"number"===typeof g&&f.ue.count(c,g)}catch(h){}},createShowroomAtfEvent:function(f,g,h,k){var a={};a.showroomId=f;a.asin=g;a.eventType=h;a.status=k;a.device=c.capabilities?c.capabilities.isAmazonApp?"AmazonApp":c.capabilities.mobile?"mobile":c.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(c){try{f.ue&&f.ue.event&&c&&f.ue.event(c,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(g){}}}});"use strict";l.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(c,f){function g(){return k[a]}function h(a){return a in k}var k={},a;return{setData:function(d){d&&d.asin&&d.imageDomain&&d.defaultCollageUrl&&d.defaultStageId&&Array.isArray(d.itemMainImagePhysicalIds)&&(a=d.asin,h(d.asin)||(k[d.asin]=d,c.trigger(f.TWISTER_DATA_EVENT,d.asin)))},getDataForCurrentAsin:g,getDataForAsin:function(a){return k[a]},
getStringValue:function(a){return g().displayStrings?g().displayStrings[a]:""},isDataValidForAsin:h}})});
/* ******** */
