!function(){function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t(e,t,i,a,n,o){try{let s=null;if(window.XMLHttpRequest?s=new XMLHttpRequest:o(),s){if(s.onreadystatechange=()=>{n(s)},s.open(t,e,!0),null!==a)for(const e in a)s.setRequestHeader(e,a[e]);s.send(i)}else o()}catch(e){o()}}class i{logTrace(e,t){if(void 0!==this.traceId){let i;const a=(new Date).getTime();this.storedTrace.hasOwnProperty(e)||(this.storedTrace[e]=[]);t===Object(t)?i=Object.assign&&"function"==typeof Object.assign?Object.assign({},t):JSON.parse(JSON.stringify(t)):(i='{ "'+e+'":"'+t+'"}',i=JSON.parse(i)),i.timeStamp=a,i.timeSinceAdStart=a-this.adStartTime,this.storedTrace[e].push(i)}}constructor(i,a){e(this,"traceId",void 0),e(this,"adStartTime",void 0),e(this,"storedTrace",void 0),e(this,"allData",void 0),this.traceId=i,this.adStartTime=a,this.storedTrace={};void 0!==i&&(()=>{const e=()=>{const e=()=>{console.log("failed to send request to /gp/adbarplus")},i=t=>{4===t.readyState&&200!==t.status&&e()};if(!(e=>{for(const t in e)if(e.hasOwnProperty(t))return!1;return!0})(this.storedTrace)){t("/gp/adbarplus?traceId="+this.traceId+"&systemName=browser","POST",JSON.stringify(this.storedTrace),{"Content-Type":"application/x-www-form-urlencoded"},i,e);for(const e in this.storedTrace)this.storedTrace.hasOwnProperty(e)&&delete this.storedTrace[e]}},i=(e,t)=>()=>e.apply(t),a=()=>{e()},n=()=>{e(),window.setInterval(i(a,this),3e3)};"loading"!==document.readyState?i(n,this)():window.addEventListener("load",i(n,this))})()}}var a,n,o,s,r,d,l;(n=a||(a={})).START="adload:start",n.CALLBACK="adload:delayloadcallback",n.IFRAME_CREATED="adload:iframecreated",(s=o||(o={})).SF_LIBRARY="cache:sflibrary:",s.SF_HTML="cache:sfhtml:",(d=r||(r={})).REQUEST="adfeedback:request",d.SUCCESS="adfeedback:success",d.ERROR="adfeedback:error",d.LABEL_RENDER="adfeedback:sponsoredlabelrender",(l||(l={})).API="messenger:";const c={1:"abpstatus:enabled",0:"abpstatus:notenabled","-1":"abpstatus:unknown"},u={VERSION:"sfversion"};var p,m;(m=p||(p={})).NEXUS_CLIENT_NOT_DEFINED="ResourceTimingData.NexusClientNotDefined",m.LOGGING_FAILED="ResourceTimingData.LoggingFailed",m.LOGGING_SUCCESSFUL="ResourceTimingData.LoggingSuccessful",m.DEPENDENCIES_NOT_MET="ResourceTimingData.DependenciesNotMet";const f={ALLOWLISTED:"custommessage:allowlisted",NOT_ALLOWLISTED:"custommessage:notallowlisted"};var h,w,g,S;(w=h||(h={})).PAGE_PRERENDER="pixelcondition:pageprerender",w.AD_MISSING="pixelcondition:admissing",(S=g||(g={})).START="bb",S.SCOPE_NAME="sfImpression",S.POLLING_SCOPE="PollingSfImpression";var y,v,E,b,A,T;(v=y||(y={})).START="adload_start",v.CALLBACK="adload_delayload",v.IFRAME_CREATED="adload_iframecreated",(b=E||(E={})).SF_LIBRARY="sflibrary_",b.SF_HTML="sfhtml_",(T=A||(A={})).REQUEST="adfeedback_request",T.SUCCESS="adfeedback_success",T.ERROR="adfeedback_error",T.LABEL_RENDER="adfeedback_sponsoredlabelrender";const I={1:"abpstatus_enabled",0:"abpstatus_notenabled","-1":"abpstatus_unknown"};var D,R,L,M;function _(e,t,i,a,n,s){if("undefined"==typeof performance||void 0===performance.getEntriesByType)return;const r=performance.getEntriesByType("resource");if(void 0===r||!Array.isArray(r)||r.length<1||void 0===r[0].duration)return;const d=e=>{n(i,a,e,1)},l=void 0!==r[0].transferSize?(e,t,n)=>{0===e.transferSize?(d(t+"cached"),s(n+"cached",i,a)):(d(t+"uncached"),s(n+"uncached",i,a))}:(e,t,n)=>{e.duration<20?(d(t+"fastload"),s(n+"fastload",i,a)):(d(t+"slowload"),s(n+"slowload",i,a))},c=(e,t,i)=>{if(e)for(let a=0;a<r.length;a++){const n=r[a];if(n.name&&-1!==n.name.indexOf(e))return void l(n,t,i)}};c(e,o.SF_LIBRARY,E.SF_LIBRARY),c(t,o.SF_HTML,E.SF_HTML)}(D||(D={})).VERSION="sfversion_",(L=R||(R={})).LOGGING_FAILED="resourceTimingData_LoggingFailed",L.LOGGING_SUCCESSFUL="resourceTimingData_LoggingSuccessful",L.DEPENDENCIES_NOT_MET="resourceTimingData_DependenciesNotMet",L.DEPENDENCIES_MET="resourceTimingData_DependenciesMet";var C,N=new RegExp(/((&#[0-9]{2};)|(&#[0-9]{3};)|(&#[0-9]{4};)|(&[a-z]{2};)|(&[a-z]{3};)|(&[a-z]{4};)|(&[a-z]{5};)|(&[a-z]{6};)|(&[a-z]{7};)|(%[a-fA-F0-9]{2})|(\W))pd_rd_plhdr(=|%3D)t((&#[0-9]{2};)|(&#[0-9]{3};)|(&#[0-9]{4};)|(&[a-z]{2};)|(&[a-z]{3};)|(&[a-z]{4};)|(&[a-z]{5};)|(&[a-z]{6};)|(&[a-z]{7};)|(%[a-fA-F0-9]{2})|(\W))/),k="$1",O="$14";C=function(){return document};var F="data-val";function x(e){if("string"!=typeof e||""===e)return"";var t=C().getElementById("ape_"+e+"_placement_ClickTracking");if(!(t&&t.hasAttribute&&"function"==typeof t.hasAttribute&&t.hasAttribute(F)&&t.getAttribute&&"function"==typeof t.getAttribute))return"";var i=t.getAttribute(F);return"string"!=typeof i?"":i}M=function(e,t,i){return x([e,i,t].join("_"))};const z=e=>{if(!("pageType"in e)||!("subPageType"in e)||!("slotName"in e))return"";try{return M(e.pageType,e.subPageType,e.slotName)}catch(e){return""}},H=()=>window.P&&window.P.AUI_BUILD_DATE,B=(e,t,i)=>{var a;return H()&&"function"==typeof(null===window||void 0===window||null===(a=window.P)||void 0===a?void 0:a.guardError)?P.guardError("APE-SafeFrame",e):(...a)=>{try{e(...a)}catch(e){"function"==typeof t&&i&&t(i,e)}}},U=(e,t)=>{if(e&&t)for(const i in t)e.style[i]=t[i];return e},V={1027:"Sponsored Display DRA"},G={1:"Enabled",0:"NotEnabled","-1":"Unknown"},J=e=>(e=>{let t,i="";const a=e.length;for(let n=0;n<a;n++)t=e[n],i+=String.fromCodePoint(t>251&&t<254&&n+5<a?1073741824*(t-252)+(e[++n]-128<<24)+(e[++n]-128<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>247&&t<252&&n+4<a?(t-248<<24)+(e[++n]-128<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>239&&t<248&&n+3<a?(t-240<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>223&&t<240&&n+2<a?(t-224<<12)+(e[++n]-128<<6)+e[++n]-128:t>191&&t<224&&n+1<a?(t-192<<6)+e[++n]-128:t);return i})(((e,t)=>{const i=e.replace(/[^A-Za-z0-9+/]/g,""),a=i.length,n=t?Math.ceil((3*a+1>>2)/t)*t:3*a+1>>2,o=new Uint8Array(n);let s,r,d=0,l=0;for(let e=0;e<a;e++)if(r=3&e,d|=((c=i.charCodeAt(e))>64&&c<91?c-65:c>96&&c<123?c-71:c>47&&c<58?c+4:43===c?62:47===c?63:0)<<6*(3-r),3===r||a-e==1){for(s=0;s<3&&l<n;)o[l]=d>>>(16>>>s&24)&255,s++,l++;d=0}var c;return o})(e));function W(e){return window[e]&&"object"==typeof window[e].adDetails?window[e].adDetails:null}function j(e,t,i,a,n){let o;if(function(e){e.bb="uet",e.af="uet",e.cf="uet",e.be="uet",e.ld="uex"}(o||(o={})),!o.hasOwnProperty(e))return;const s=o[e].toString(),r=a?a+":":"";"function"==typeof window[s]&&(window[s].apply(this,Y(e,"adplacements:"+r+t.replace(/_/g,":"),{wb:1},n)),i&&window[s].apply(this,Y(e,"adplacements:"+r+i,{wb:1},n)))}function q(e,t,i,a){if(window.ue&&"function"==typeof window.ue.count){let n="adplacements:"+i;if(e&&(n+=":"+e.replace(/_/g,":")),window.ue.count(n,a),t){const e="adplacements:"+(i&&t?i+":":i)+t;window.ue.count(e,a)}}}function Q(e,t,i,a){if(window.ue&&window.ue.tag){if(t){const i=e+":"+t.replace(/_/g,":")+(a?":"+a:"");window.ue.tag(i)}if(i){const t=e+":"+i+(a?":"+a:"");window.ue.tag(t)}t||i||window.ue.tag(e+(a?":"+a:""))}}function Y(e,t,i,a){const n=[e,t,i];return a&&n.push(a),n}const X=()=>window.innerHeight||document.documentElement.clientHeight,K=()=>window.innerWidth||document.documentElement.clientWidth,$=e=>e.getBoundingClientRect().top-X(),Z=e=>{const t={atf:ee(e)};if(!e||!window||!document)return t;const i=oe(),a=se(e),n=le(e);return{atf:ee(e),geom:{win:i,self:a,exp:n},payload:{wh:i.h,ww:i.w,sx:window.scrollX,sy:window.scrollY,ah:a.h,aw:a.w,top:a.t,left:a.l}}},ee=e=>{if(!e)return"unknown";const t=function(e){if(!window||!(null===document||void 0===document?void 0:document.body))return null;const t=re(e,null),i=X(),a=K(),n=document.body.getBoundingClientRect(),o=Math.max(0,Math.min(n.left+a,t.r)-t.l),s=Math.max(0,Math.min(n.top+i,t.b)-t.t),r=o*s/(t.h*Math.min(t.w,a));return Number(Math.min(1,Math.max(0,r)).toFixed(2))}(e);return null==t?"unknown":t>=.5};const te=e=>{if(!window||!document)return null;const t=ae(e),i=oe(),a=se(null,t);return{atf:"unknown",geom:{win:i,self:a,exp:le(null,t)},payload:{wh:i.h,ww:i.w,sx:window.scrollX,sy:window.scrollY,ah:a.h,aw:a.w,top:a.t,left:a.l}}},ie=(e,t)=>{const i=re(e),a=re(t),n=K(),o=X();return i&&a&&(Math.abs(i.t-a.b)<o||Math.abs(i.b-a.t)<o)&&(Math.abs(i.l-a.r)<n||Math.abs(i.r-a.l)<n)},ae=e=>{const t=e.initialBoundingRect,i=t.top-(window.scrollY-e.originalScrollY),a=i+e.adHeight,n=t.left-(window.scrollX-e.originalScrollX);return{top:i,bottom:a,left:n,right:n+e.adWidth,width:e.adWidth,height:e.adHeight}},ne=(e,t,i)=>{let a=0;return"visible"!==document.visibilityState?a:(a=e>0?i-e:t>0?Math.min(t,i):0,Math.min(a,t-e))},oe=()=>{const e=window.screenY?window.screenY:window.screenTop,t=window.screenX?window.screenX:window.screenLeft,i=K(),a=X();return{t:e,l:t,w:i,h:a,b:e+a,r:t+i}},se=(e,t)=>{const i=re(e,t),a=de(i);return{t:i.t,l:i.l,r:i.r,b:i.b,w:i.w,h:i.h,z:i.z,xiv:a.xiv,yiv:a.yiv,iv:a.iv}},re=(e,t)=>{const i=t||(null==e?void 0:e.getBoundingClientRect());return{t:i.top,l:i.left,r:i.right,b:i.bottom,w:i.width,h:i.height,z:e?Number(window.getComputedStyle(e,null).zIndex):NaN}},de=e=>{const t=K(),i=X(),a=Math.max(0,ne(e.t,e.b,i)),n=Math.max(0,ne(e.l,e.r,t)),o=a*n,s=e.h*Math.min(e.w,t);return 0!==s||0!==o?{xiv:Number(Math.min(1,n/e.w).toFixed(2)),yiv:Number(Math.min(1,a/e.h).toFixed(2)),iv:Number(Math.min(1,Math.max(0,o/s)).toFixed(2))}:{xiv:0,yiv:0,iv:0}},le=(e,t)=>{const i=t||(null==e?void 0:e.getBoundingClientRect());return{t:i.top,l:i.left,r:K()-i.right,b:X()-i.bottom,xs:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)>K()?1:0,yx:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)>X()?1:0}};function ce(e,t,i){var a,n=i||{},o=n.noTrailing,s=void 0!==o&&o,r=n.noLeading,d=void 0!==r&&r,l=n.debounceMode,c=void 0===l?void 0:l,u=!1,p=0;function m(){a&&clearTimeout(a)}function f(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];var r=this,l=Date.now()-p;function f(){p=Date.now(),t.apply(r,n)}function h(){a=void 0}u||(d||!c||a||f(),m(),void 0===c&&l>e?d?(p=Date.now(),s||(a=setTimeout(c?h:f,e))):f():!0!==s&&(a=setTimeout(c?h:f,void 0===c?e-l:e)))}return f.cancel=function(e){var t=(e||{}).upcomingOnly,i=void 0!==t&&t;m(),u=!i},f}const ue="ERROR";function pe(e,t){const i=t||new Error(e);console.error(e,t),q("",null,"safeFrameError",1),window.sfHostLogErrors&&(window.ueHostLogError?window.ueHostLogError(i,{logLevel:ue,attribution:"APE-safeframe",message:e+" "}):"undefined"!=typeof console&&console.error&&console.error(e,i))}const me=()=>{const e=window.location.hostname.split(".").pop();let t="na";return/^(com|ca|mx|br)$/.test(e)?t="na":/^(uk|de|fr|it|es|in|ae|sa|nl|tr|se|pl|eg|be)$/.test(e)?t="eu":/^(jp|au|sg)$/.test(e)?t="fe":/^(cn)$/.test(e)&&(t="cn"),"https://images-"+t+".ssl-images-amazon.com"},fe=e=>e.replace(/^.{1,5}:\/\/|^\/\//,""),he=(e,t)=>e.height===t.height&&e.width===t.width,we=(e,t,i)=>{if(!t||"object"!=typeof t)return!1;for(let a=0,n=t.length;a<n;a++)if(i(e,t[a]))return!0;return!1},ge=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window,Se=e=>e&&0===Object.keys(e).length&&e.constructor===Object;function ye(e,t,i){const a=document.createElement("iframe");return a.name=JSON.stringify(e),a.id=t,a.src=i,a.height=Ae(e.size.height)||"250px",a.width=Ae(e.size.width)||"300px",a.className=e.iframeClass||"",a.setAttribute("frameborder","0"),a.setAttribute("marginheight","0"),a.setAttribute("marginwidth","0"),a.setAttribute("scrolling","no"),a.setAttribute("allowtransparency","true"),a.setAttribute("data-arid",e.arid),a.style.cssText=e.iframeExtraStyle||"",a.sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-top-navigation-by-user-activation",a}function ve(e){const t=document.getElementById(e);void 0!==t&&t&&(t.style.display="none")}function Ee(e,t,i){const a=document.getElementById(t[e].placementDivId),n=document.getElementById(t[e].wrapperDivId)||a,o=document.getElementById(t[e].iframeId);let s=i.resizePlacementWidthThreshold;const r=i.resizePlacementStyleAboveThreshold,d=i.resizePlacementStyleBelowThreshold;s=parseInt(s,10),n&&o&&s&&r&&d&&(n.offsetWidth<s?U(o,d):U(o,r))}function be(e,t,i,a,n,o){try{const s=document.getElementById(o[e].placementDivId),r=document.getElementById(o[e].wrapperDivId)||s,d=document.getElementById(o[e].iframeId);if(null===r||null===s||null===d)return;const l=Te(i),c=Te(t),u=!c&&!l,p=parseInt(t,10);let m=c?d.offsetWidth:p,f=l?d.offsetHeight:parseInt(i,10);const h=parseInt(a,10),w=e=>{u&&(f=Math.round(e*f/m)),m=Math.round(e)},g=0===r.offsetWidth?K():r.offsetWidth;h&&X()<K()?w(h):w(g),n&&n.adMap&&n.adMap[e]&&n.adMap[e].options&&n.adMap[e].options.slotSnapshot&&(n.adMap[e].options.slotSnapshot.adHeight=f,n.adMap[e].options.slotSnapshot.adWidth=m);const S=Ae(m),y=Ae(u?f:i);d.style.height=y,d.style.width=S;const v={width:S,height:y};r!==s&&(s.style.height=y,n.sendMessageToAd(e,"resizeCreativeWrapper",v)),"Detail_hero-quick-promo_Desktop"===o[e].slotId&&(q(o[e].slotId,n.adMap[e].options.placementId,"OffsetLeft",d.offsetLeft),q(o[e].slotId,n.adMap[e].options.placementId,"OffsetTop",d.offsetTop),q(o[e].slotId,n.adMap[e].options.placementId,"OffsetWidth",d.offsetWidth),q(o[e].slotId,n.adMap[e].options.placementId,"OffsetHeight",d.offsetHeight))}catch(t){pe("Error resizing ad: "+o[e].slotId,t)}}function Ae(e){return!e||Te(e)||function(e){return e.length>2&&"px"===e.substring(e.length-2)}(e)?e:e+"px"}function Te(e){return e.length>1&&"%"===e.charAt(e.length-1)}function Ie(e,t,i,a){const n="undefined"!=typeof P,o="undefined"!=typeof amznJQ,s="number"==typeof i&&0!==i?()=>{setTimeout(t,i)}:t;if(void 0===e)s();else if("windowOnLoad"===e)"complete"===document.readyState?s():window.addEventListener("load",s);else if("spATFEvent"===e)n?P.when("search-page-utilities").execute((e=>{window.searchPageUtils.afterEvent("spATFEvent",s)})):o?amznJQ.available("search-js-general",(()=>{window.SPUtils.afterEvent("spATFEvent",s)})):s();else if("aboveTheFold"===e)n?P.when("af").execute(s):o?amznJQ.onCompletion("amznJQ.AboveTheFold",s):s();else if("criticalFeature"===e)n?P.when("cf").execute(s):o?amznJQ.onCompletion("amznJQ.criticalFeature",s):s();else if("r2OnLoad"===e)n?P.when("r2Loaded").execute(s):o?amznJQ.onReady("r2Loaded",s):s();else if(e.match("[^:]+:.+")){const t=e.split(":"),i=t[0].split("."),a=t[1],r=t.length>2?t[2]:a;n?P.when(r,"A").execute(s):o&&i.length>1?amznJQ[i[1]](a,s):s()}else if(e.match(/^\d{1,4}px$/g))De(parseInt(e,10),s,a,((e,t)=>{const i=$(e);return e&&i<=t}));else{const t=/^reached(\d{1,5}px)FromTop$/g.exec(e);t?De(parseInt(t[1],10),s,a,((e,t)=>window.scrollY+X()>=t)):s()}}function De(e,t,i,a){let n=!1;const o=()=>{a(i,e)&&(t(),n=!0)},s=B(ce(20,(()=>{o(),n&&(window.removeEventListener("scroll",o),window.removeEventListener("resize",o))})));window.addEventListener("scroll",s),window.addEventListener("resize",s)}const Re=new class{customMessage(e,t,i,a,n){const o=this.msgListeners;try{"undefined"!==i&&Array.isArray(i)&&(i.indexOf(e)>-1&&o[e]?(q(null,null,f.ALLOWLISTED+":"+e,1),o[e](t)):-1===i.indexOf(e)?(q(null,null,f.NOT_ALLOWLISTED,1),q(a,n,f.NOT_ALLOWLISTED,1)):pe("Unrecognized custom message key: "+e))}catch(e){pe("Custom Message Error",e)}}isElementInDOM(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}constructor(t,i,a){e(this,"adMap",void 0),e(this,"supportedCommands",void 0),e(this,"msgListeners",void 0),e(this,"getIframe",(e=>{var t;const i=this.adMap,a=i[e].options;if(Se(i)||Se(a))return null;const n="ape_"+a.slot+"_iframe";return i[e].iframe&&(i[e].iframe=i[e].iframe&&(null===(t=i[e].iframe)||void 0===t?void 0:t.innerHTML)?i[e].iframe:document.getElementById(n)),i[e].iframe})),e(this,"sendMessageToAd",((e,t,i)=>{const a=this.getIframe(e),n=a?a.contentWindow:null;if(n){const e={command:t,data:i};n.postMessage(e,"*")}})),e(this,"receiveMessage",(e=>{const t=this.adMap;if(Se(t))return;try{var i,a,n,o;if((null===(o=null==e||null===(i=e.data)||void 0===i||null===(a=i.message)||void 0===a||null===(n=a.id)||void 0===n?void 0:n.toLowerCase())||void 0===o?void 0:o.indexOf("mash"))>-1)throw"Received Mash message"}catch(e){return}const s=e.data,r=t[s.arid];try{const t=this.supportedCommands,i=((e,t)=>{const i=me();return e&&e.options&&fe(t.origin)===fe(i)})(r,e);if("object"!=typeof s.data||!t.hasOwnProperty(s.command))return;if(!i)throw"Invalid Message Origin: "+e.origin;const a=t[s.command];a&&(r.options.debug&&"undefined"!=typeof console&&console.log(e),a(r,s.data))}catch(t){let i="Problem with message: "+e.data;void 0!==s&&(i+=this.appendErrorDetails(s.arid)),pe(i,t)}})),e(this,"appendErrorDetails",(e=>{const t=this.adMap;if(Se(t))return"";let i="";if(void 0!==t[e]){const a=t[e].options;void 0!==a.aanResponse&&(i=" Ad Details: "+JSON.stringify(a.aanResponse))}return i})),e(this,"registerCustomMessageListener",((e,t,i)=>{let a=!1;const n=this.msgListeners;try{if(!n[e]||"function"!=typeof n[e]||i)n[e]=t,a=!0;else{pe("Duplicate Key",new Error("Custom message listener already exists for key: "+e))}}catch(e){pe("Error registering custom message listener",e)}return a})),e(this,"sendCustomMessage",((e,t)=>{const i=this.adMap,a={key:e,data:t};for(const e in i)this.sendMessageToAd(e,"customMessage",a)})),e(this,"sendCustomMessageToAd",((e,t,i)=>{const a={key:t,data:i};this.sendMessageToAd(e,"customMessage",a)})),e(this,"takeSnapshotOfSlotPosition",(e=>{const t=this.adMap,i=t&&t[e]&&t[e].options;if(!t||Se(t)||!i||Se(i))return;const a=this.getIframe(e);var n;this.adMap[e].options.slotSnapshot={initialBoundingRect:(n=a).getBoundingClientRect(),adHeight:n.offsetHeight,adWidth:n.offsetWidth,originalScrollX:window.scrollX,originalScrollY:window.scrollY}})),e(this,"startPixelTracking",((e,t)=>{let i="prerender"!==document.visibilityState;const a=this.getIframe(e);let n,o,s=this.isElementInDOM(a);const r=this.adMap&&this.adMap[e]&&this.adMap[e].options;!i&&r&&q(r.slot,r.placementId,h.PAGE_PRERENDER,1),!s&&r&&q(r.slot,r.placementId,h.AD_MISSING,1);const d=()=>!(!i||!s)&&(t(),o&&document.removeEventListener("visibilitychange",o),n&&ge()&&n.unobserve(a),!0);if(!d()){const e={root:document.documentElement};ge()&&(n=new IntersectionObserver((e=>{try{if(1===e.length){e[0].isIntersecting?(s=!0,d()):s=!1}}catch(e){pe("Error executing intersectionObserver callback")}}),e),n.observe(a)),o=()=>{try{"prerender"!==document.visibilityState?(i=!0,d()):i=!1}catch(e){pe("Error executing pageVisibilityHandler callback")}},document.addEventListener("visibilitychange",o)}})),e(this,"updateViewability",(e=>{const t=this.adMap,i=t&&t[e]&&t[e].options;if(!t||Se(t)||!i||Se(i))return;const a=this.getIframe(e),n=t[e].options.viewabilityStandards,o=Z(a);null!==o&&(o.viewabilityStandards=n,this.sendMessageToAd(e,"updateViewability",o))})),e(this,"updateNoInventoryViewability",(e=>{const t=this.adMap,i=t&&t[e]&&t[e].options,a=i&&i.slotSnapshot;if(!t||Se(t)||!i||Se(i)||!a)return;const n=i.viewabilityStandards,o=te(a);null!==o&&(o.viewabilityStandards=n,this.sendMessageToAd(e,"updateViewability",o))})),this.adMap=t||{},this.supportedCommands=i||{},this.msgListeners=a||{}}};const Le=new class{constructor(){e(this,"latencyPlugin",void 0),e(this,"events",void 0)}},Me=e=>{window.csa?Le.latencyPlugin=window.csa("Content",{element:e}):console.log(window)},_e=(e,t)=>{try{Le.latencyPlugin("mark",e,t)}catch(e){pe("Error with initiating CSA",e)}},Ce=(e,t,i)=>{try{Le.events("log",{schemaId:"ApeSafeframe.csaEvent.1",metricName:e+":"+t+":"+i,metricValue:1},{ent:"all"})}catch(e){pe("Error with initiating CSA",e)}},Ne=e=>{try{Le.events("setEntity",{adCreativeMetaData:e})}catch(e){pe("Error with initiating CSA",e)}};function Pe(e,t,i){const a=Oe(e,t);if(!a)return;(a.getElementsByTagName("div")[0]||Fe("div",{},t.advertisementStyle,a,null)).innerHTML=J(t.adFeedbackInfo.sponsoredText),i[t.arid].logTrace("adFeedBack",{renderSponsoredLabel:!0}),q(t.slot,t.placementId,r.LABEL_RENDER,1),Ce(A.LABEL_RENDER,t.slot,t.placementId)}function ke(e,i,a){const n=Oe(e,i);if(!n)return;e.isFeedbackLoaded=!0;const o=e.parentNode,s=i.placementId,d=i.adFeedbackInfo.endPoint,l=i.feedbackDivStyle,c={adPlacementMetaData:i.adPlacementMetaData,adCreativeMetaData:i.adCreativeMetaData},u={isFeedbackLoaded:e.isFeedbackLoaded,slot:o,placementId:s,endPoint:d,feedbackDivStyle:l,adFeedbackParams:c,requestUrl:""},p=e=>{const t={feedbackResponseStarted:!0,feedBackResponseReturned:!1,response:""};if(4===e.readyState){if(200===e.status)try{const a=e.responseText,o=JSON.parse(a);if(t.response=o,o&&"ok"===o.status){if("html"in o&&o.html&&(n.innerHTML=o.html),"script"in o&&o.script){(n.getElementsByTagName("script")[0]||Fe("script",{},{},n,null)).innerHTML=o.script}q(i.slot,s,r.SUCCESS,1),Ce(A.SUCCESS,i.slot,s),t.feedBackResponseReturned=!0}}catch(e){q(i.slot,i.placementId,r.ERROR,1),Ce(A.ERROR,i.slot,i.placementId)}a[i.arid].logTrace("adFeedBack",{adFeedBackResponse:t})}},m=d&&d.length?window.location.protocol+"//"+window.location.hostname+d+"?pl="+(f=c,encodeURIComponent(JSON.stringify(f))):d;var f;u.requestUrl=m,a[i.arid].logTrace("adFeedBack",{adFeedbackRequest:u}),m&&(q(i.slot,s,r.REQUEST,1),Ce(A.REQUEST,i.slot,s),t(m,"GET",null,null,p,(()=>{})))}function Oe(e,t){if(!e||!t.adFeedbackInfo.boolFeedback||e.isFeedbackLoaded)return null;const i=e.parentNode,a=t.feedbackDivStyle,n=t.adFeedbackInfo.adFeedbackOnTop;return i.getElementsByTagName("div")[0]||Fe("div",{id:i.id+"_Feedback"},a,i,n?i.firstChild:null)}function Fe(e,t,i,a,n){const o=document.createElement(e);for(const e in t)o.setAttribute(e,t[e]);return U(o,i),a.insertBefore(o,n),o}const xe=e=>{e.fallbackStaticAdClickUrl&&((e=>{let t="";return e&&(t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]),0!==t.length})(e.fallbackStaticAdClickUrl)||(e.fallbackStaticAdClickUrl=window.location.protocol+"//"+window.location.host+e.fallbackStaticAdClickUrl))},ze={};function He(e,t,i){e&&e.id&&!ze[e.id]&&window.P&&H()&&window.P.when("gw-video-orchestrator").execute((a=>{a.subscribe(e,t,i),ze[e.id]=!0}))}let Be=null;function Ue(e,t,i){const a=t=>{i.sendCustomMessageToAd(e.options.arid,"videoAutoplayResponse",t)};var n;e.options.expParams&&e.options.expParams.noVideoAutoplay?a(!1):(n=e.options.pageType)&&"gateway"===n.toLowerCase()?He(e.iframe,a,t):Be===e.options.arid?a(!0):null===Be&&function(e){const t=document.getElementsByTagName("video");for(let i=0;i<t.length;++i)if(!t[i].paused&&ie(e,t[i]))return!1;return!0}(e.iframe)?(Be=e.options.arid,a(!0)):a(!1)}function Ve(){H()&&window.P&&window.P.when("gw-video-orchestrator").execute((e=>{e.elect()})),Be=null}function Ge(e){var t;(t=e.iframe)&&window.P&&H()&&window.P.when("gw-video-orchestrator").execute((e=>{e.elect(t)})),Be=e.options.arid}const Je="unfired_cod_impressions_dictionary";function We(){let e;try{e=JSON.parse(localStorage.getItem(Je)||"{}")}catch(t){e={}}return e}function je(e,t){const i=We();i[e]=t,Ye(i)}function qe(){const e=We(),t=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&""!==e[i]&&t.push(e[i]);return function(){try{localStorage.removeItem(Je)}catch(e){}}(),t}function Qe(e){const t=We();t[e]&&(t[e]="",Ye(t))}function Ye(e){try{localStorage.setItem(Je,JSON.stringify(e))}catch(e){}}var Xe,Ke;Ke=function(){return URL};var $e="{}",Ze="?",et="&",tt="=";function it(e,t){var i={};for(var a in e)i[a]=e[a];for(var n in t)i[n]=t[n];return i}Xe=function(e,t,i){if("string"!=typeof e||""===e)throw new Error("Invalid url input to addJSONQueryParamToURL: "+JSON.stringify({url:e}));if("string"!=typeof t||""===t)throw new Error("Invalid queryParamKey input to addJSONQueryParamToURL: "+JSON.stringify({queryParamKey:t}));if("object"!=typeof i)throw new Error("Invalid queryParamValueObject input to addJSONQueryParamToURL: "+JSON.stringify({queryParamValueObject:i}));try{var a=new(Ke())(e),n=a.searchParams.get(t)?a.searchParams.get(t):"{}",o=JSON.parse(n);if("object"!=typeof o)throw new Error("Existing query param value was not an object: "+JSON.stringify({existingJSONObject:o}));var s=it(o,i);return a.searchParams.set(t,JSON.stringify(s)),a.toString()}catch(a){return function(e,t,i){var a,n=e.indexOf(Ze),o={};if(n>0){a=e.substring(0,n),decodeURIComponent(e.substring(n+1)).split(et).forEach((function(e){if(e){var t=e.split(tt);o[t[0]]=t[1]}}));var s=o[t]?o[t]:$e,r=JSON.parse(s);if("object"!=typeof r)throw new Error("Existing query param value was not an object: "+JSON.stringify({existingJSONObject:r}));var d=it(r,i);o[t]=JSON.stringify(d)}else a=e,o[t]=JSON.stringify(i);var l=[];for(var c in o)l.push(encodeURIComponent(c)+tt+encodeURIComponent(o[c]));return a+Ze+l.join(et)}(e,t,i)}};const at=(e,t)=>{const i=()=>{try{Qe(e.options.arid),Re.sendMessageToAd(e.options.arid,"fireImpression",t),t.isNoInventory?Re.supportedCommands.enableNoInventoryViewabilityTrackerAndInvokeFallback(e):Re.supportedCommands.enableViewabilityTracker(e)}catch(e){pe("Error firing pixels. data: "+JSON.stringify(t))}},a=B((()=>{Re.startPixelTracking(e.options.arid,i)}));Ie(e.options.firePixelsAfter,a,0,e.slot)};function nt(e){Re.startPixelTracking(e.options.arid,(()=>{try{if(e.options.aaxImpPixelUrl){const t=Xe(e.options.aaxImpPixelUrl,"pj",{measurementMethod:"cod_client"});je(e.options.arid,t)}Re.sendMessageToAd(e.options.arid,"fireMetricsForLegacyImpression",{})}catch(e){pe("Error firing legacy impression metrics")}}))}function ot(e,t){Re.startPixelTracking(e.options.arid,(()=>{try{Re.sendMessageToAd(e.options.arid,"fireMetricsForCremPolling",{isBtr:t.isBtr})}catch(e){pe("Error firing crem polling impression metrics")}}))}const st={sd:1},rt=["name","entryType","startTime","duration","initiatorType","nextHopProtocol","workerStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize"];class dt{log(){if(!(window.ue&&window.ue.event&&window.ue.attach))return q(null,null,p.DEPENDENCIES_NOT_MET,1),void Ce(R.DEPENDENCIES_NOT_MET,this.options.slot,this.options.placementId);q(null,null,p.DEPENDENCIES_NOT_MET,0),Ce(R.DEPENDENCIES_MET,this.options.slot,this.options.placementId),"complete"===document.readyState?this.logMessage():window.ue.attach("load",this.logMessage)}extractResourceProperties(e){let t={};const i={};for(let a=0;a<rt.length;a++)t=rt[a],void 0!==e[t]&&(i[t]=e[t]);return i}getPageInfo(){return{source:"safeframe",pageType:window.ue_pty||null,subPageType:window.ue_spty||null,pageTypeId:this.getPageTypeIdKey()||null}}getPageTypeIdKey(){return this.options.slot+"_"+this.options.adCreativeMetaData.adNetwork+"_"+this.options.adCreativeMetaData.adProgramId+"_"+this.options.adCreativeMetaData.adCreativeId+"_"+this.options.adCreativeMetaData.adId}getResources(){const e=[];for(let t=0;t<this.data.resourceTimingData.length;t++){const i=this.data.resourceTimingData[t];0!==i.responseEnd&&e.push(this.extractResourceProperties(i))}return e}composeMessage(){const e=this.getPageInfo();return e.resourceData=this.getResources(),e}logMessage(){const e=this.composeMessage();let t=!1;window.ue.event&&(t=window.ue.event(e,"adplacements","csm.ResourceTimingHit.2",st),t?(q(null,null,p.LOGGING_SUCCESSFUL,1),q(null,null,p.LOGGING_FAILED,0),Ce(R.LOGGING_SUCCESSFUL,this.options.slot,this.options.placementId)):(q(null,null,p.LOGGING_SUCCESSFUL,0),q(null,null,p.LOGGING_FAILED,1),Ce(R.LOGGING_FAILED,this.options.slot,this.options.placementId)))}constructor(t,i){e(this,"options",void 0),e(this,"data",void 0),this.options=t,this.data=i}}const lt=(e,t)=>{const i=(e,t)=>{var i,a;return null!==(a=null===(i=document.getElementById(e))||void 0===i?void 0:i.getAttribute(t))&&void 0!==a?a:null},a=i("ilmRelocatedHtml","data-relocated-html");a?Re.sendMessageToAd(e,"sendRelocatedHtmlContentEncodedToAd",a):document.addEventListener("sendRelocatedHtmlContentEncodedToAd",(a=>{const n=i("ilmRelocatedHtml","data-relocated-html");n?Re.sendMessageToAd(e,"sendRelocatedHtmlContentEncodedToAd",n):t()}),{once:!0})};const ct=new class{addAdHandler(e,t,i,a){this.ADS_HANDLERS[e]=this.ADS_HANDLERS[e]||{},this.ADS_HANDLERS[e][i]=B(a,pe,"Error within ad handler "+i+": "+t)}constructor(t){e(this,"ADS_HANDLERS",{}),e(this,"AD_IDS",{}),e(this,"AD_TRACERS",{}),e(this,"buildTimeReplacements",void 0),e(this,"supportedCommands",{sendAdBarTrace:(e,t)=>{e.options.arid in this.AD_TRACERS&&this.AD_TRACERS[e.options.arid].logTrace(t.field,t.traceInfo)},logAPIInvocation:(e,t)=>{q(null,null,l.API+t.apiName,1),q(e.options.slot,e.options.placementId,l.API+t.apiName,1),e.options.arid in this.AD_TRACERS&&this.AD_TRACERS[e.options.arid].logTrace("apiCalls",t)},resizeSafeFrameAd:e=>{window.addEventListener("resize",this.ADS_HANDLERS[e.options.arid].defaultResizeSafeFrameHandler),be(e.options.arid,e.options.size.width,e.options.size.height,e.options.maxAdWidth,Re,this.AD_IDS)},setResizePlacementStyle:e=>{window.addEventListener("resize",this.ADS_HANDLERS[e.options.arid].defaultSetResizePlacementStyle),Ee(e.options.arid,this.AD_IDS,e.options.resizePlacementStyle)},changeSize:(e,t)=>{const i=e.options.allowedSizes;if(void 0===e.options.allowChangeSize||e.options.allowChangeSize)if(we(t,i,he))e.slot.style.width=t.width,e.iframe.height=t.height,e.iframe.width=t.width;else{pe("Size is not allowlisted: "+t.width+" x "+t.height+Re.appendErrorDetails(e.options.arid))}},startPixelTracking:at,startPixelTrackingForLegacyImpression:nt,startPixelTrackingForCremPolling:ot,collapseSlot:e=>{ve(this.AD_IDS[e.options.arid].placementDivId),ve(this.AD_IDS[e.options.arid].auiCardDeckId),"nav-sitewide-msg"===e.options.slotName&&Ie("amznJQ.available:navbarJSLoaded",(()=>{void 0!==parent.navbar&&"function"==typeof parent.navbar.unHideSWM&&parent.navbar.unHideSWM()}))},logError:(e,t)=>{pe(t.message+Re.appendErrorDetails(e.options.arid)+": "+e.options.slot,t.error)},logCsaEvent:(e,t)=>{Ce(t.metricName,e.options.slot,e.options.placementId)},addCsaEntity:(e,t)=>{Ne(t)},sendCsmLatencyMetric:(e,t)=>{j(t.metric,e.options.slot,e.options.placementId,t.metricMsg,t.timestamp)},markCsaLatencyMetric:(e,t)=>{_e(t.metric,t.timestamp)},countMetric:(e,t)=>{t.isGlobal?q(null,null,t.metricMsg,t.value):q(e.options.slot,e.options.placementId,t.metricMsg,t.value)},addCsmTag:(e,t)=>{t.isGlobal?Q(t.tag,null,null,t.msg):Q(t.tag,e.options.slot,e.options.placementId,t.msg)},fireViewableLatencyMetrics:(e,t)=>{var i,a,n,o;i=e.options.arid,a=e.options.slot,n=e.options.placementId,o=t.adLoadedTimestamp,window.apeViewableLatencyTrackers&&window.apeViewableLatencyTrackers[i]&&window.apeViewableLatencyTrackers[i].valid&&(window.apeViewableLatencyTrackers[i].loaded=!0,window.apeViewableLatencyTrackers[i].viewed&&(j("ld",a,n,"viewablelatency",o),_e("viewablelatency:loaded",o),q(a,n,"htmlviewed:loaded",1)))},customMessage:(e,t)=>{Re.customMessage(t.key,t.body,e.options.allowlistedCustomMessageEvents,e.options.slot,e.options.placementId)},enableViewabilityTracker:e=>{Re.updateViewability(e.options.arid);const t=ce(20,Re.updateViewability);if(this.addAdHandler(e.options.arid,e.options.slot,"viewabilityTracker",(()=>{t(e.options.arid)})),window.addEventListener("scroll",this.ADS_HANDLERS[e.options.arid].viewabilityTracker),window.addEventListener("resize",this.ADS_HANDLERS[e.options.arid].viewabilityTracker),document.addEventListener("visibilitychange",this.ADS_HANDLERS[e.options.arid].viewabilityTracker),ge()){new IntersectionObserver((()=>{Re.updateViewability(e.options.arid)}),{threshold:[0,.5,1]}).observe(e.slot)}},enableNoInventoryViewabilityTrackerAndInvokeFallback:e=>{Re.takeSnapshotOfSlotPosition(e.options.arid),Re.updateNoInventoryViewability(e.options.arid),Re.sendMessageToAd(e.options.arid,"handleFallbackBehavior",{});const t=ce(20,Re.updateNoInventoryViewability);this.addAdHandler(e.options.arid,e.options.slot,"noInventoryViewabilityTracker",(()=>{t(e.options.arid)})),window.addEventListener("scroll",this.ADS_HANDLERS[e.options.arid].noInventoryViewabilityTracker),window.addEventListener("resize",this.ADS_HANDLERS[e.options.arid].noInventoryViewabilityTracker),document.addEventListener("visibilitychange",this.ADS_HANDLERS[e.options.arid].noInventoryViewabilityTracker)},loadAdFeedback:(e,t)=>{const i=Re.adMap[e.options.arid].iframe;e.options.adCreativeMetaData=t,ke(i,e.options,this.AD_TRACERS)},safeFrameReady:e=>{var t;(null===(t=e.options.expParams)||void 0===t?void 0:t.ilmRelocatedHtmlIsActive)&&!e.options.htmlContentEncoded&&lt(e.options.arid,(()=>{ve(this.AD_IDS[e.options.arid].placementDivId)}))},requestVideoAutoplay:(e,t)=>{Ue(e,t,Re)},releaseVideoAutoplay:()=>{Ve()},haveVideoAutoplayPermission:e=>{Ge(e)},logSafeframeResourceTimingData:(e,t)=>{new dt(e,t).log()},saveAdDetailsForAdReporter:(e,t)=>{if(!window.adReporterConfig)return;window.adReporterDetails||(window.adReporterDetails={});const i=e.options.slotName;t&&i===t.slotName?window.adReporterDetails[i]=t:window.adReporterDetails[i]||(window.adReporterDetails[i]=JSON.stringify(e))}}),e(this,"initSafeFrame",(()=>{if(window.DAsf&&window.DAsf.loadAds)return void window.DAsf.loadAds();window.DAsf={version:this.buildTimeReplacements.version},qe().forEach((e=>{q(null,null,"localstorage:impression",1)})),window.csa&&(Le.events=window.csa("Events",{producerId:"adplacements"})),q(null,null,u.VERSION+":"+window.DAsf.version,1),Ce(D.VERSION+window.DAsf.version),window.addEventListener("message",Re.receiveMessage,!1),Re.supportedCommands=this.supportedCommands,window.DAsf.registerCustomMessageListener=Re.registerCustomMessageListener,window.DAsf.sendCustomMessage=Re.sendCustomMessage;window.DAsf.loadAds=()=>{const e="data-arid",t=(e,t)=>{this.AD_IDS[e]={slotId:t,placementDivId:"ape_"+t+"_placement",iframeId:"ape_"+t+"_iframe",auiCardDeckId:"ape_"+t+"_aui_cardDeck"}},n=e=>{const t={};try{const i=window.location.search.substring(1).split("&");for(let a=0;a<i.length;a++){const n=i[a].split("="),o=n[0];n.length>1&&e.indexOf(o)>-1&&(t[o]=n[1])}}catch(e){pe("Error parsing query parameters",e)}return t},o=e=>()=>{be(e.arid,e.size.width,e.size.height,e.maxAdWidth,Re,this.AD_IDS)},s=e=>()=>{Ee(e.arid,this.AD_IDS,e.resizePlacementStyle)},r=e=>{try{const t=document.getElementById(this.AD_IDS[e.arid].placementDivId),i=this.AD_IDS[e.arid].iframeId,n=e.safeFrameSrc,o=ye(e,i,n);o.onload=()=>{_(e.DAsfUrl,e.safeFrameSrc,e.slot,e.placementId,q,Ce)},t.appendChild(o),j("cf",e.slot,e.placementId),_e("criticalFeature"),q(e.slot,e.placementId,a.IFRAME_CREATED,1),Ce(y.IFRAME_CREATED,e.slot,e.placementId),Re.adMap[e.arid]={slot:t,iframe:o,options:e};const s={id:o.id,src:o.src,scrolling:o.scrolling,height:o.height,width:o.width,className:o.className,styleCssText:o.style.cssText,sandbox:o.sandbox};this.AD_TRACERS[e.arid].logTrace("createSafeFrame",s)}catch(t){pe("Error creating safeFrame",t),this.AD_TRACERS[e.arid]&&this.AD_TRACERS[e.arid].logTrace("createSafeFrame",{error:{message:"errorCreatingSafeFrame",ex:t}})}},d=t=>B((()=>{const i={callbackOccurred:!0};i.loadAfter=t.loadAfter,this.AD_TRACERS[t.arid].logTrace("pageCallBack",i),q(t.slot,t.placementId,a.CALLBACK,1),Ce(y.CALLBACK,t.slot,t.placementId);if(((t,i)=>{if(!t)return!1;const a=document.getElementById(t);if(a&&!a.innerHTML){const t=a.getAttribute(e);if(t&&t===i.arid)return!0}return!1})(this.AD_IDS[t.arid].placementDivId,t)){var n;r(t);const e=null===(n=null==Re?void 0:Re.adMap[null==t?void 0:t.arid])||void 0===n?void 0:n.iframe;e&&Pe(e,t,this.AD_TRACERS)}}),pe,"Error in callback to create Safeframe."),l="text/x-dacx-safeframe";let u=document.getElementsByClassName(l);0===u.length&&(u=document.getElementsByTagName("script"));for(const r of u)if("DIV"===r.tagName&&r.classList.contains(l)||r.getAttribute("type")===l)try{const l=W(r.getAttribute("data-csa-c-slot-id")),u=l||JSON.parse(r.getAttribute("data-ad-details")||r.text||r.innerHTML||r.innerText);xe(u);const f="ape_"+u.slot+"_placement",h=document.getElementById(f);!Re.adMap[u.arid]&&h&&h.innerHTML&&(h.innerHTML="",r.removeAttribute(e)),Me(h);if(r.getAttribute(e))continue;u.arid=u.arid||Math.random().toString(16).slice(2),this.AD_TRACERS[u.arid]=new i(u.traceId,window[u.slotName]&&window[u.slotName].adStartTime||0),this.AD_TRACERS[u.arid].logTrace("safeFrameInput",u);const w={caches:window.caches?window.caches:null,plugins:document.plugins?document.plugins:null,cookies:document.cookie?document.cookie:null,userAgents:navigator.userAgent?navigator.userAgent:null};this.AD_TRACERS[u.arid].logTrace("browserData",w),r.setAttribute(e,u.arid),u.hostDomain=location.protocol+"//"+location.host,u.allowedSizes="object"==typeof u.allowedSizes&&u.allowedSizes.length>=0?u.allowedSizes.concat(u.size):[u.size];const S="d3l3lkinz3f56t.cloudfront.net,g-ecx.images-amazon.com,z-ecx.images-amazon.com,images-na.ssl-images-amazon.com,g-ec4.images-amazon.com,images-cn.ssl-images-amazon.com".split(",");if(u.allowedDomains="object"==typeof u.allowedDomains&&u.allowedDomains.length>=0?u.allowedDomains.concat(S):S,u.queryParams=n(u.allowlistedQueryParamKeys),u.aPageStart=window.aPageStart,u.adStartTime=window[u.slotName]&&window[u.slotName].adStartTime||0,this.addAdHandler(u.arid,u.slot,"defaultResizeSafeFrameHandler",o(u)),this.addAdHandler(u.arid,u.slot,"defaultSetResizePlacementStyle",s(u)),t(u.arid,u.slot),"clickTracking"in u&&""===u.clickTracking&&(u.clickTracking=z(u)),u.forcePunt){Q("forcePunt",u.slot,u.placementId),Ne({forcePunt:"true"}),ve(this.AD_IDS[u.arid].placementDivId);continue}const v=me(),E="true"===u.abpAcceptable&&("1"===u.abpStatus||"-1"===u.abpStatus);if(p=u.mediaType,m=u.adCreativeMetaData.adProgramId,(e=>"V"===e)(p)&&!V.hasOwnProperty(m)){const e=v+this.buildTimeReplacements.allowlistedSafeFramePath,t=v+this.buildTimeReplacements.allowlistedSafeFrameVideoPath;u.safeFrameSrc=E?t:e}else{const e=v+this.buildTimeReplacements.desktopSafeFramePath,t=v+this.buildTimeReplacements.allowlistedSafeFramePath;u.safeFrameSrc=E?t:e}if(u.abpStatus){Q("ABPStatus"+G[u.abpStatus],u.slot),Ne({ABPStatus:G[u.abpStatus]});for(const e in G)q(u.slot,u.placementId,c[e],u.abpStatus===e?1:0),u.abpStatus===e&&Ce(I[e],u.slot,u.placementId)}u.collectSafeframeRTD=window.collectSafeframeRTD,j("af",u.slot,u.placementId),_e("clickToATF"),j(g.START,u.slot,u.placementId,g.SCOPE_NAME),j(g.START,u.slot,u.placementId,g.POLLING_SCOPE),q(u.slot,u.placementId,a.START,1),Ce(y.START,u.slot,u.placementId);const b={hostDomain:u.hostDomain,allowedSizes:u.allowedSizes,allowedDomains:u.allowedDomains,queryParams:u.queryParams,aPageStart:u.aPageStart,adStartTime:u.adStartTime,safeFrameSrc:u.safeFrameSrc,abpStatus:u.abpStatus};Ie(u.loadAfter,d(u),0,r),b.loadAfter=u.loadAfter,this.AD_TRACERS[u.arid].logTrace("additionalInitilizationParams",b)}catch(e){pe("Error parsing sf tag",e)}var p,m},window.DAsf.loadAds()})),this.buildTimeReplacements=t}}({version:"1.50.61a0957",desktopSafeFrameVideoPath:"/images/S/apesafeframe/ape/sf/desktop/sfVideo-1.50.61a0957.html",allowlistedSafeFrameVideoPath:"/images/S/apesafeframe/ape/sf/whitelisted/desktop/sfVideo-1.50.61a0957.html",desktopSafeFramePath:"/images/S/apesafeframe/ape/sf/desktop/sf-1.50.61a0957.html",allowlistedSafeFramePath:"/images/S/apesafeframe/ape/sf/whitelisted/desktop/sf-1.50.61a0957.html"});B((()=>ct.initSafeFrame()),pe,"Error initializing safeFrame")()}();
//# sourceMappingURL=DAsf.min.js.map
